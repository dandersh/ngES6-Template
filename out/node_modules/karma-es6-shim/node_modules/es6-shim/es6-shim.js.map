{"version":3,"sources":["../../../../../node_modules/karma-es6-shim/node_modules/es6-shim/es6-shim.js"],"names":[],"mappings":"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","file":"es6-shim.js","sourcesContent":[" /*!\n  * https://github.com/paulmillr/es6-shim\n  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n  *   and contributors,  MIT License\n  * es6-shim: v0.35.1\n  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE\n  * Details and documentation:\n  * https://github.com/paulmillr/es6-shim/\n  */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define, module, exports */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function () {\n  'use strict';\n\n  var _apply = Function.call.bind(Function.apply);\n  var _call = Function.call.bind(Function.call);\n  var isArray = Array.isArray;\n  var keys = Object.keys;\n\n  var not = function notThunker(func) {\n    return function notThunk() {\n      return !_apply(func, this, arguments);\n    };\n  };\n  var throwsError = function (func) {\n    try {\n      func();\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  var valueOrFalseIfThrows = function valueOrFalseIfThrows(func) {\n    try {\n      return func();\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var isCallableWithoutNew = not(throwsError);\n  var arePropertyDescriptorsSupported = function () {\n    // if Object.defineProperty exists but throws, it's IE 8\n    return !throwsError(function () {\n      Object.defineProperty({}, 'x', { get: function () {} });\n    });\n  };\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var functionsHaveNames = (function foo() {}).name === 'foo'; // eslint-disable-line no-extra-parens\n\n  var _forEach = Function.call.bind(Array.prototype.forEach);\n  var _reduce = Function.call.bind(Array.prototype.reduce);\n  var _filter = Function.call.bind(Array.prototype.filter);\n  var _some = Function.call.bind(Array.prototype.some);\n\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) { return; }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they dont exist.\n  var defineProperties = function (object, map, forceOverride) {\n    _forEach(keys(map), function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, !!forceOverride);\n    });\n  };\n\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var isCallable = typeof /abc/ === 'function' ? function IsCallableSlow(x) {\n    // Some old browsers (IE, FF) say that typeof /abc/ === 'function'\n    return typeof x === 'function' && _toString(x) === '[object Function]';\n  } : function IsCallableFast(x) { return typeof x === 'function'; };\n\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() { return originalObject[key]; },\n        set: function setKey(value) { originalObject[key] = value; }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    },\n    defineByDescriptor: function (object, property, descriptor) {\n      if (supportsDescriptors) {\n        Object.defineProperty(object, property, descriptor);\n      } else if ('value' in descriptor) {\n        object[property] = descriptor.value;\n      }\n    },\n    preserveToString: function (target, source) {\n      if (source && isCallable(source.toString)) {\n        defineProperty(target, 'toString', source.toString.bind(source), true);\n      }\n    }\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    var Prototype = function Prototype() {};\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      keys(properties).forEach(function (key) {\n        Value.defineByDescriptor(object, key, properties[key]);\n      });\n    }\n    return object;\n  };\n\n  var supportsSubclassing = function (C, f) {\n    if (!Object.setPrototypeOf) { return false; /* skip test on IE < 11 */ }\n    return valueOrFalseIfThrows(function () {\n      var Sub = function Subclass(arg) {\n        var o = new C(arg);\n        Object.setPrototypeOf(o, Subclass.prototype);\n        return o;\n      };\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = create(C.prototype, {\n        constructor: { value: Sub }\n      });\n      return f(Sub);\n    });\n  };\n\n  var getGlobal = function () {\n    /* global self, window, global */\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') { return self; }\n    if (typeof window !== 'undefined') { return window; }\n    if (typeof global !== 'undefined') { return global; }\n    throw new Error('unable to locate global object');\n  };\n\n  var globals = getGlobal();\n  var globalIsFinite = globals.isFinite;\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _arrayIndexOfApply = Function.apply.bind(Array.prototype.indexOf);\n  var _concat = Function.call.bind(Array.prototype.concat);\n  // var _sort = Function.call.bind(Array.prototype.sort);\n  var _strSlice = Function.call.bind(String.prototype.slice);\n  var _push = Function.call.bind(Array.prototype.push);\n  var _pushApply = Function.apply.bind(Array.prototype.push);\n  var _shift = Function.call.bind(Array.prototype.shift);\n  var _max = Math.max;\n  var _min = Math.min;\n  var _floor = Math.floor;\n  var _abs = Math.abs;\n  var _exp = Math.exp;\n  var _log = Math.log;\n  var _sqrt = Math.sqrt;\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n\n  var Symbol = globals.Symbol || {};\n  var symbolSpecies = Symbol.species || '@@species';\n\n  var numberIsNaN = Number.isNaN || function isNaN(value) {\n    // NaN !== NaN, but they are identical.\n    // NaNs are the only non-reflexive value, i.e., if x !== x,\n    // then x is NaN.\n    // isNaN is broken: it converts its argument to number, so\n    // isNaN('foo') => true\n    return value !== value;\n  };\n  var numberIsFinite = Number.isFinite || function isFinite(value) {\n    return typeof value === 'number' && globalIsFinite(value);\n  };\n  var _sign = isCallable(Math.sign) ? Math.sign : function sign(value) {\n    var number = Number(value);\n    if (number === 0) { return number; }\n    if (numberIsNaN(number)) { return number; }\n    return number < 0 ? -1 : 1;\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isStandardArguments = function isArguments(value) {\n    return _toString(value) === '[object Arguments]';\n  };\n  var isLegacyArguments = function isArguments(value) {\n    return value !== null &&\n      typeof value === 'object' &&\n      typeof value.length === 'number' &&\n      value.length >= 0 &&\n      _toString(value) !== '[object Array]' &&\n      _toString(value.callee) === '[object Function]';\n  };\n  var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n\n  var Type = {\n    primitive: function (x) { return x === null || (typeof x !== 'function' && typeof x !== 'object'); },\n    string: function (x) { return _toString(x) === '[object String]'; },\n    regex: function (x) { return _toString(x) === '[object RegExp]'; },\n    symbol: function (x) {\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n    }\n  };\n\n  var overrideNative = function overrideNative(object, property, replacement) {\n    var original = object[property];\n    defineProperty(object, property, replacement, true);\n    Value.preserveToString(object[property], original);\n  };\n\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' && Type.symbol(Symbol());\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n\n  // Reflect\n  if (!globals.Reflect) {\n    defineProperty(globals, 'Reflect', {}, true);\n  }\n  var Reflect = globals.Reflect;\n\n  var $String = String;\n\n  var ES = {\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-call\n    Call: function Call(F, V) {\n      var args = arguments.length > 2 ? arguments[2] : [];\n      if (!ES.IsCallable(F)) {\n        throw new TypeError(F + ' is not a function');\n      }\n      return _apply(F, V, args);\n    },\n\n    RequireObjectCoercible: function (x, optMessage) {\n      /* jshint eqnull:true */\n      if (x == null) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n\n    // This might miss the \"(non-standard exotic and does not implement\n    // [[Call]])\" case from\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-typeof-operator-runtime-semantics-evaluation\n    // but we can't find any evidence these objects exist in practice.\n    // If we find some in the future, you could test `Object(x) === x`,\n    // which is reliable according to\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toobject\n    // but is not well optimized by runtimes and creates an object\n    // whenever it returns false, and thus is very slow.\n    TypeIsObject: function (x) {\n      if (x === void 0 || x === null || x === true || x === false) {\n        return false;\n      }\n      return typeof x === 'function' || typeof x === 'object';\n    },\n\n    ToObject: function (o, optMessage) {\n      return Object(ES.RequireObjectCoercible(o, optMessage));\n    },\n\n    IsCallable: isCallable,\n\n    IsConstructor: function (x) {\n      // We can't tell callables from constructors in ES5\n      return ES.IsCallable(x);\n    },\n\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n\n    ToNumber: function (value) {\n      if (_toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (numberIsNaN(number)) { return 0; }\n      if (number === 0 || !numberIsFinite(number)) { return number; }\n      return (number > 0 ? 1 : -1) * _floor(_abs(number));\n    },\n\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) { return 0; } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n      return len;\n    },\n\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) { return 1 / a === 1 / b; }\n        return true;\n      }\n      return numberIsNaN(a) && numberIsNaN(b);\n    },\n\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return (a === b) || (numberIsNaN(a) && numberIsNaN(b));\n    },\n\n    IsIterable: function (o) {\n      return ES.TypeIsObject(o) && (typeof o[$iterator$] !== 'undefined' || isArguments(o));\n    },\n\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = ES.GetMethod(o, $iterator$);\n      if (!ES.IsCallable(itFn)) {\n        // Better diagnostics if itFn is null or undefined\n        throw new TypeError('value is not an iterable');\n      }\n      var it = ES.Call(itFn, o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n\n    GetMethod: function (o, p) {\n      var func = ES.ToObject(o)[p];\n      if (func === void 0 || func === null) {\n        return void 0;\n      }\n      if (!ES.IsCallable(func)) {\n        throw new TypeError('Method not callable: ' + p);\n      }\n      return func;\n    },\n\n    IteratorComplete: function (iterResult) {\n      return !!iterResult.done;\n    },\n\n    IteratorClose: function (iterator, completionIsThrow) {\n      var returnMethod = ES.GetMethod(iterator, 'return');\n      if (returnMethod === void 0) {\n        return;\n      }\n      var innerResult, innerException;\n      try {\n        innerResult = ES.Call(returnMethod, iterator);\n      } catch (e) {\n        innerException = e;\n      }\n      if (completionIsThrow) {\n        return;\n      }\n      if (innerException) {\n        throw innerException;\n      }\n      if (!ES.TypeIsObject(innerResult)) {\n        throw new TypeError(\"Iterator's return method returned a non-object.\");\n      }\n    },\n\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n\n    IteratorStep: function (it) {\n      var result = ES.IteratorNext(it);\n      var done = ES.IteratorComplete(result);\n      return done ? false : result;\n    },\n\n    Construct: function (C, args, newTarget, isES6internal) {\n      var target = typeof newTarget === 'undefined' ? C : newTarget;\n\n      if (!isES6internal && Reflect.construct) {\n        // Try to use Reflect.construct if available\n        return Reflect.construct(C, args, target);\n      }\n      // OK, we have to fake it.  This will only work if the\n      // C.[[ConstructorKind]] == \"base\" -- but that's the only\n      // kind we can make in ES5 code anyway.\n\n      // OrdinaryCreateFromConstructor(target, \"%ObjectPrototype%\")\n      var proto = target.prototype;\n      if (!ES.TypeIsObject(proto)) {\n        proto = Object.prototype;\n      }\n      var obj = create(proto);\n      // Call the constructor.\n      var result = ES.Call(C, obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    },\n\n    SpeciesConstructor: function (O, defaultConstructor) {\n      var C = O.constructor;\n      if (C === void 0) {\n        return defaultConstructor;\n      }\n      if (!ES.TypeIsObject(C)) {\n        throw new TypeError('Bad constructor');\n      }\n      var S = C[symbolSpecies];\n      if (S === void 0 || S === null) {\n        return defaultConstructor;\n      }\n      if (!ES.IsConstructor(S)) {\n        throw new TypeError('Bad @@species');\n      }\n      return S;\n    },\n\n    CreateHTML: function (string, tag, attribute, value) {\n      var S = ES.ToString(string);\n      var p1 = '<' + tag;\n      if (attribute !== '') {\n        var V = ES.ToString(value);\n        var escapedV = V.replace(/\"/g, '&quot;');\n        p1 += ' ' + attribute + '=\"' + escapedV + '\"';\n      }\n      var p2 = p1 + '>';\n      var p3 = p2 + S;\n      return p3 + '</' + tag + '>';\n    },\n\n    IsRegExp: function IsRegExp(argument) {\n      if (!ES.TypeIsObject(argument)) {\n        return false;\n      }\n      var isRegExp = argument[Symbol.match];\n      if (typeof isRegExp !== 'undefined') {\n        return !!isRegExp;\n      }\n      return Type.regex(argument);\n    },\n\n    ToString: function ToString(string) {\n      return $String(string);\n    }\n  };\n\n  // Well-known Symbol shims\n  if (supportsDescriptors && hasSymbols) {\n    var defineWellKnownSymbol = function defineWellKnownSymbol(name) {\n      if (Type.symbol(Symbol[name])) {\n        return Symbol[name];\n      }\n      var sym = Symbol['for']('Symbol.' + name);\n      Object.defineProperty(Symbol, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: sym\n      });\n      return sym;\n    };\n    if (!Type.symbol(Symbol.search)) {\n      var symbolSearch = defineWellKnownSymbol('search');\n      var originalSearch = String.prototype.search;\n      defineProperty(RegExp.prototype, symbolSearch, function search(string) {\n        return ES.Call(originalSearch, string, [this]);\n      });\n      var searchShim = function search(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (regexp !== null && typeof regexp !== 'undefined') {\n          var searcher = ES.GetMethod(regexp, symbolSearch);\n          if (typeof searcher !== 'undefined') {\n            return ES.Call(searcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalSearch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'search', searchShim);\n    }\n    if (!Type.symbol(Symbol.replace)) {\n      var symbolReplace = defineWellKnownSymbol('replace');\n      var originalReplace = String.prototype.replace;\n      defineProperty(RegExp.prototype, symbolReplace, function replace(string, replaceValue) {\n        return ES.Call(originalReplace, string, [this, replaceValue]);\n      });\n      var replaceShim = function replace(searchValue, replaceValue) {\n        var O = ES.RequireObjectCoercible(this);\n        if (searchValue !== null && typeof searchValue !== 'undefined') {\n          var replacer = ES.GetMethod(searchValue, symbolReplace);\n          if (typeof replacer !== 'undefined') {\n            return ES.Call(replacer, searchValue, [O, replaceValue]);\n          }\n        }\n        return ES.Call(originalReplace, O, [ES.ToString(searchValue), replaceValue]);\n      };\n      overrideNative(String.prototype, 'replace', replaceShim);\n    }\n    if (!Type.symbol(Symbol.split)) {\n      var symbolSplit = defineWellKnownSymbol('split');\n      var originalSplit = String.prototype.split;\n      defineProperty(RegExp.prototype, symbolSplit, function split(string, limit) {\n        return ES.Call(originalSplit, string, [this, limit]);\n      });\n      var splitShim = function split(separator, limit) {\n        var O = ES.RequireObjectCoercible(this);\n        if (separator !== null && typeof separator !== 'undefined') {\n          var splitter = ES.GetMethod(separator, symbolSplit);\n          if (typeof splitter !== 'undefined') {\n            return ES.Call(splitter, separator, [O, limit]);\n          }\n        }\n        return ES.Call(originalSplit, O, [ES.ToString(separator), limit]);\n      };\n      overrideNative(String.prototype, 'split', splitShim);\n    }\n    var symbolMatchExists = Type.symbol(Symbol.match);\n    var stringMatchIgnoresSymbolMatch = symbolMatchExists && (function () {\n      // Firefox 41, through Nightly 45 has Symbol.match, but String#match ignores it.\n      // Firefox 40 and below have Symbol.match but String#match works fine.\n      var o = {};\n      o[Symbol.match] = function () { return 42; };\n      return 'a'.match(o) !== 42;\n    }());\n    if (!symbolMatchExists || stringMatchIgnoresSymbolMatch) {\n      var symbolMatch = defineWellKnownSymbol('match');\n\n      var originalMatch = String.prototype.match;\n      defineProperty(RegExp.prototype, symbolMatch, function match(string) {\n        return ES.Call(originalMatch, string, [this]);\n      });\n\n      var matchShim = function match(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (regexp !== null && typeof regexp !== 'undefined') {\n          var matcher = ES.GetMethod(regexp, symbolMatch);\n          if (typeof matcher !== 'undefined') {\n            return ES.Call(matcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalMatch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'match', matchShim);\n    }\n  }\n\n  var wrapConstructor = function wrapConstructor(original, replacement, keysToSkip) {\n    Value.preserveToString(replacement, original);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(original, replacement);\n    }\n    if (supportsDescriptors) {\n      _forEach(Object.getOwnPropertyNames(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        Value.proxy(original, key, replacement);\n      });\n    } else {\n      _forEach(Object.keys(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        replacement[key] = original[key];\n      });\n    }\n    replacement.prototype = original.prototype;\n    Value.redefine(original.prototype, 'constructor', replacement);\n  };\n\n  var defaultSpeciesGetter = function () { return this; };\n  var addDefaultSpecies = function (C) {\n    if (supportsDescriptors && !_hasOwnProperty(C, symbolSpecies)) {\n      Value.getter(C, symbolSpecies, defaultSpeciesGetter);\n    }\n  };\n\n  var addIterator = function (prototype, impl) {\n    var implementation = impl || function iterator() { return this; };\n    defineProperty(prototype, $iterator$, implementation);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = implementation;\n    }\n  };\n\n  var createDataProperty = function createDataProperty(object, name, value) {\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  var createDataPropertyOrThrow = function createDataPropertyOrThrow(object, name, value) {\n    createDataProperty(object, name, value);\n    if (!ES.SameValue(object[name], value)) {\n      throw new TypeError('property is nonconfigurable');\n    }\n  };\n\n  var emulateES6construct = function (o, defaultNewTarget, defaultProto, slots) {\n    // This is an es5 approximation to es6 construct semantics.  in es6,\n    // 'new Foo' invokes Foo.[[Construct]] which (for almost all objects)\n    // just sets the internal variable NewTarget (in es6 syntax `new.target`)\n    // to Foo and then returns Foo().\n\n    // Many ES6 object then have constructors of the form:\n    // 1. If NewTarget is undefined, throw a TypeError exception\n    // 2. Let xxx by OrdinaryCreateFromConstructor(NewTarget, yyy, zzz)\n\n    // So we're going to emulate those first two steps.\n    if (!ES.TypeIsObject(o)) {\n      throw new TypeError('Constructor requires `new`: ' + defaultNewTarget.name);\n    }\n    var proto = defaultNewTarget.prototype;\n    if (!ES.TypeIsObject(proto)) {\n      proto = defaultProto;\n    }\n    var obj = create(proto);\n    for (var name in slots) {\n      if (_hasOwnProperty(slots, name)) {\n        var value = slots[name];\n        defineProperty(obj, name, value, true);\n      }\n    }\n    return obj;\n  };\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint && String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = String.fromCodePoint;\n    overrideNative(String, 'fromCodePoint', function fromCodePoint(codePoints) {\n      return ES.Call(originalFromCodePoint, this, arguments);\n    });\n  }\n\n  var StringShims = {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n\n        if (next < 0x10000) {\n          _push(result, String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          _push(result, String.fromCharCode((next >> 10) + 0xD800));\n          _push(result, String.fromCharCode((next % 0x400) + 0xDC00));\n        }\n      }\n      return result.join('');\n    },\n\n    raw: function raw(callSite) {\n      var cooked = ES.ToObject(callSite, 'bad callSite');\n      var rawString = ES.ToObject(cooked.raw, 'bad raw value');\n      var len = rawString.length;\n      var literalsegments = ES.ToLength(len);\n      if (literalsegments <= 0) {\n        return '';\n      }\n\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalsegments) {\n        nextKey = ES.ToString(nextIndex);\n        nextSeg = ES.ToString(rawString[nextKey]);\n        _push(stringElements, nextSeg);\n        if (nextIndex + 1 >= literalsegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = ES.ToString(next);\n        _push(stringElements, nextSub);\n        nextIndex += 1;\n      }\n      return stringElements.join('');\n    }\n  };\n  if (String.raw && String.raw({ raw: { 0: 'x', 1: 'y', length: 2 } }) !== 'xy') {\n    // IE 11 TP has a broken String.raw implementation\n    overrideNative(String, 'raw', StringShims.raw);\n  }\n  defineProperties(String, StringShims);\n\n  // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n  // Perf: http://jsperf.com/string-repeat2/2\n  var stringRepeat = function repeat(s, times) {\n    if (times < 1) { return ''; }\n    if (times % 2) { return repeat(s, times - 1) + s; }\n    var half = repeat(s, times / 2);\n    return half + half;\n  };\n  var stringMaxLength = Infinity;\n\n  var StringPrototypeShims = {\n    repeat: function repeat(times) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var numTimes = ES.ToInteger(times);\n      if (numTimes < 0 || numTimes >= stringMaxLength) {\n        throw new RangeError('repeat count must be less than infinity and not overflow maximum string size');\n      }\n      return stringRepeat(thisStr, numTimes);\n    },\n\n    startsWith: function startsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      var start = _max(ES.ToInteger(position), 0);\n      return _strSlice(S, start, start + searchStr.length) === searchStr;\n    },\n\n    endsWith: function endsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var len = S.length;\n      var endPosition;\n      if (arguments.length > 1) {\n        endPosition = arguments[1];\n      }\n      var pos = typeof endPosition === 'undefined' ? len : ES.ToInteger(endPosition);\n      var end = _min(_max(pos, 0), len);\n      return _strSlice(S, end - searchStr.length, end) === searchStr;\n    },\n\n    includes: function includes(searchString) {\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('\"includes\" does not accept a RegExp');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchStr, position) !== -1;\n    },\n\n    codePointAt: function codePointAt(pos) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = position + 1 === length;\n        if (first < 0xD800 || first > 0xDBFF || isEnd) { return first; }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) { return first; }\n        return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  if (String.prototype.includes && 'a'.includes('a', Infinity) !== false) {\n    overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n  }\n\n  if (String.prototype.startsWith && String.prototype.endsWith) {\n    var startsWithRejectsRegex = throwsError(function () {\n      /* throws if spec-compliant */\n      '/a/'.startsWith(/a/);\n    });\n    var startsWithHandlesInfinity = valueOrFalseIfThrows(function () {\n      return 'abc'.startsWith('a', Infinity) === false;\n    });\n    if (!startsWithRejectsRegex || !startsWithHandlesInfinity) {\n      // Firefox (< 37?) and IE 11 TP have a noncompliant startsWith implementation\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n  }\n  if (hasSymbols) {\n    var startsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.startsWith(re);\n    });\n    if (!startsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n    }\n    var endsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.endsWith(re);\n    });\n    if (!endsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n    var includesSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.includes(re);\n    });\n    if (!includesSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n    }\n  }\n\n  defineProperties(String.prototype, StringPrototypeShims);\n\n  // whitespace from: http://es5.github.io/#x15.5.4.20\n  // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n  var ws = [\n    '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n    '\\u2029\\uFEFF'\n  ].join('');\n  var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n  var trimShim = function trim() {\n    return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp, '');\n  };\n  var nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\n  var nonWSregex = new RegExp('[' + nonWS + ']', 'g');\n  var isBadHexRegex = /^[\\-+]0x[0-9a-f]+$/i;\n  var hasStringTrimBug = nonWS.trim().length !== nonWS.length;\n  defineProperty(String.prototype, 'trim', trimShim, hasStringTrimBug);\n\n  // Given an argument x, it will return an IteratorResult object,\n  // with value set to x and done to false.\n  // Given no arguments, it will return an iterator completion object.\n  var iteratorResult = function (x) {\n    return { value: x, done: arguments.length === 0 };\n  };\n\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    ES.RequireObjectCoercible(s);\n    this._s = ES.ToString(s);\n    this._i = 0;\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s;\n    var i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return iteratorResult();\n    }\n    var first = s.charCodeAt(i);\n    var second, len;\n    if (first < 0xD800 || first > 0xDBFF || (i + 1) === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = (second < 0xDC00 || second > 0xDFFF) ? 1 : 2;\n    }\n    this._i = i + len;\n    return iteratorResult(s.substr(i, len));\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n\n  var ArrayShims = {\n    from: function from(items) {\n      var C = this;\n      var mapFn;\n      if (arguments.length > 1) {\n        mapFn = arguments[1];\n      }\n      var mapping, T;\n      if (typeof mapFn === 'undefined') {\n        mapping = false;\n      } else {\n        if (!ES.IsCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n        mapping = true;\n      }\n\n      // Note that that Arrays will use ArrayIterator:\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      var usingIterator = typeof (isArguments(items) || ES.GetMethod(items, $iterator$)) !== 'undefined';\n\n      var length, result, i;\n      if (usingIterator) {\n        result = ES.IsConstructor(C) ? Object(new C()) : [];\n        var iterator = ES.GetIterator(items);\n        var next, nextValue;\n\n        i = 0;\n        while (true) {\n          next = ES.IteratorStep(iterator);\n          if (next === false) {\n            break;\n          }\n          nextValue = next.value;\n          try {\n            if (mapping) {\n              nextValue = typeof T === 'undefined' ? mapFn(nextValue, i) : _call(mapFn, T, nextValue, i);\n            }\n            result[i] = nextValue;\n          } catch (e) {\n            ES.IteratorClose(iterator, true);\n            throw e;\n          }\n          i += 1;\n        }\n        length = i;\n      } else {\n        var arrayLike = ES.ToObject(items);\n        length = ES.ToLength(arrayLike.length);\n        result = ES.IsConstructor(C) ? Object(new C(length)) : new Array(length);\n        var value;\n        for (i = 0; i < length; ++i) {\n          value = arrayLike[i];\n          if (mapping) {\n            value = typeof T === 'undefined' ? mapFn(value, i) : _call(mapFn, T, value, i);\n          }\n          createDataPropertyOrThrow(result, i, value);\n        }\n      }\n\n      result.length = length;\n      return result;\n    },\n\n    of: function of() {\n      var len = arguments.length;\n      var C = this;\n      var A = isArray(C) || !ES.IsCallable(C) ? new Array(len) : ES.Construct(C, [len]);\n      for (var k = 0; k < len; ++k) {\n        createDataPropertyOrThrow(A, k, arguments[k]);\n      }\n      A.length = len;\n      return A;\n    }\n  };\n  defineProperties(Array, ArrayShims);\n  addDefaultSpecies(Array);\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n    this.i = 0;\n    this.array = array;\n    this.kind = kind;\n  };\n\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i;\n      var array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return iteratorResult(retval);\n        }\n      }\n      this.array = void 0;\n      return iteratorResult();\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n/*\n  var orderKeys = function orderKeys(a, b) {\n    var aNumeric = String(ES.ToInteger(a)) === a;\n    var bNumeric = String(ES.ToInteger(b)) === b;\n    if (aNumeric && bNumeric) {\n      return b - a;\n    } else if (aNumeric && !bNumeric) {\n      return -1;\n    } else if (!aNumeric && bNumeric) {\n      return 1;\n    } else {\n      return a.localeCompare(b);\n    }\n  };\n\n  var getAllKeys = function getAllKeys(object) {\n    var ownKeys = [];\n    var keys = [];\n\n    for (var key in object) {\n      _push(_hasOwnProperty(object, key) ? ownKeys : keys, key);\n    }\n    _sort(ownKeys, orderKeys);\n    _sort(keys, orderKeys);\n\n    return _concat(ownKeys, keys);\n  };\n  */\n\n  // note: this is positioned here because it depends on ArrayIterator\n  var arrayOfSupportsSubclassing = Array.of === ArrayShims.of || (function () {\n    // Detects a bug in Webkit nightly r181886\n    var Foo = function Foo(len) { this.length = len; };\n    Foo.prototype = [];\n    var fooArr = Array.of.apply(Foo, [1, 2]);\n    return fooArr instanceof Foo && fooArr.length === 2;\n  }());\n  if (!arrayOfSupportsSubclassing) {\n    overrideNative(Array, 'of', ArrayShims.of);\n  }\n\n  var ArrayPrototypeShims = {\n    copyWithin: function copyWithin(target, start) {\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      var relativeTarget = ES.ToInteger(target);\n      var relativeStart = ES.ToInteger(start);\n      var to = relativeTarget < 0 ? _max(len + relativeTarget, 0) : _min(relativeTarget, len);\n      var from = relativeStart < 0 ? _max(len + relativeStart, 0) : _min(relativeStart, len);\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var relativeEnd = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var finalItem = relativeEnd < 0 ? _max(len + relativeEnd, 0) : _min(relativeEnd, len);\n      var count = _min(finalItem - from, len - to);\n      var direction = 1;\n      if (from < to && to < (from + count)) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (from in o) {\n          o[to] = o[from];\n        } else {\n          delete o[to];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n\n    fill: function fill(value) {\n      var start;\n      if (arguments.length > 1) {\n        start = arguments[1];\n      }\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n\n      var relativeStart = start < 0 ? _max(len + start, 0) : _min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (_call(predicate, thisArg, value, i, list)) {\n            return value;\n          }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (_call(predicate, thisArg, list[i], i, list)) {\n            return i;\n          }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    keys: function keys() {\n      return new ArrayIterator(this, 'key');\n    },\n\n    values: function values() {\n      return new ArrayIterator(this, 'value');\n    },\n\n    entries: function entries() {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  // Chrome 40 defines Array#values with the incorrect name, although Array#{keys,entries} have the correct name\n  if (functionsHaveNames && Array.prototype.values && Array.prototype.values.name !== 'values') {\n    var originalArrayPrototypeValues = Array.prototype.values;\n    overrideNative(Array.prototype, 'values', function values() { return ES.Call(originalArrayPrototypeValues, this, arguments); });\n    defineProperty(Array.prototype, $iterator$, Array.prototype.values, true);\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n\n  if (1 / [true].indexOf(true, -0) < 0) {\n    // indexOf when given a position arg of -0 should return +0.\n    // https://github.com/tc39/ecma262/pull/316\n    defineProperty(Array.prototype, 'indexOf', function indexOf(searchElement) {\n      var value = _arrayIndexOfApply(this, arguments);\n      if (value === 0 && (1 / value) < 0) {\n        return 0;\n      }\n      return value;\n    }, true);\n  }\n\n  addIterator(Array.prototype, function () { return this.values(); });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    addIterator(Object.getPrototypeOf([].values()));\n  }\n\n  // note: this is positioned here because it relies on Array#entries\n  var arrayFromSwallowsNegativeLengths = (function () {\n    // Detects a Firefox bug in v32\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n    return valueOrFalseIfThrows(function () {\n      return Array.from({ length: -1 }).length === 0;\n    });\n  }());\n  var arrayFromHandlesIterables = (function () {\n    // Detects a bug in Webkit nightly r181886\n    var arr = Array.from([0].entries());\n    return arr.length === 1 && isArray(arr[0]) && arr[0][0] === 0 && arr[0][1] === 0;\n  }());\n  if (!arrayFromSwallowsNegativeLengths || !arrayFromHandlesIterables) {\n    overrideNative(Array, 'from', ArrayShims.from);\n  }\n  var arrayFromHandlesUndefinedMapFunction = (function () {\n    // Microsoft Edge v0.11 throws if the mapFn argument is *provided* but undefined,\n    // but the spec doesn't care if it's provided or not - undefined doesn't throw.\n    return valueOrFalseIfThrows(function () {\n      return Array.from([0], void 0);\n    });\n  }());\n  if (!arrayFromHandlesUndefinedMapFunction) {\n    var origArrayFrom = Array.from;\n    overrideNative(Array, 'from', function from(items) {\n      if (arguments.length > 1 && typeof arguments[1] !== 'undefined') {\n        return ES.Call(origArrayFrom, this, arguments);\n      } else {\n        return _call(origArrayFrom, this, items);\n      }\n    });\n  }\n\n  var int32sAsOne = -(Math.pow(2, 32) - 1);\n  var toLengthsCorrectly = function (method, reversed) {\n    var obj = { length: int32sAsOne };\n    obj[reversed ? (obj.length >>> 0) - 1 : 0] = true;\n    return valueOrFalseIfThrows(function () {\n      _call(method, obj, function () {\n        // note: in nonconforming browsers, this will be called\n        // -1 >>> 0 times, which is 4294967295, so the throw matters.\n        throw new RangeError('should not reach here');\n      }, []);\n      return true;\n    });\n  };\n  if (!toLengthsCorrectly(Array.prototype.forEach)) {\n    var originalForEach = Array.prototype.forEach;\n    overrideNative(Array.prototype, 'forEach', function forEach(callbackFn) {\n      return ES.Call(originalForEach, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.map)) {\n    var originalMap = Array.prototype.map;\n    overrideNative(Array.prototype, 'map', function map(callbackFn) {\n      return ES.Call(originalMap, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.filter)) {\n    var originalFilter = Array.prototype.filter;\n    overrideNative(Array.prototype, 'filter', function filter(callbackFn) {\n      return ES.Call(originalFilter, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.some)) {\n    var originalSome = Array.prototype.some;\n    overrideNative(Array.prototype, 'some', function some(callbackFn) {\n      return ES.Call(originalSome, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.every)) {\n    var originalEvery = Array.prototype.every;\n    overrideNative(Array.prototype, 'every', function every(callbackFn) {\n      return ES.Call(originalEvery, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduce)) {\n    var originalReduce = Array.prototype.reduce;\n    overrideNative(Array.prototype, 'reduce', function reduce(callbackFn) {\n      return ES.Call(originalReduce, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduceRight, true)) {\n    var originalReduceRight = Array.prototype.reduceRight;\n    overrideNative(Array.prototype, 'reduceRight', function reduceRight(callbackFn) {\n      return ES.Call(originalReduceRight, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n\n  var lacksOctalSupport = Number('0o10') !== 8;\n  var lacksBinarySupport = Number('0b10') !== 2;\n  var trimsNonWhitespace = _some(nonWS, function (c) {\n    return Number(c + 0 + c) === 0;\n  });\n  if (lacksOctalSupport || lacksBinarySupport || trimsNonWhitespace) {\n    var OrigNumber = Number;\n    var binaryRegex = /^0b[01]+$/i;\n    var octalRegex = /^0o[0-7]+$/i;\n    // Note that in IE 8, RegExp.prototype.test doesn't seem to exist: ie, \"test\" is an own property of regexes. wtf.\n    var isBinary = binaryRegex.test.bind(binaryRegex);\n    var isOctal = octalRegex.test.bind(octalRegex);\n    var toPrimitive = function (O) { // need to replace this with `es-to-primitive/es6`\n      var result;\n      if (typeof O.valueOf === 'function') {\n        result = O.valueOf();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      if (typeof O.toString === 'function') {\n        result = O.toString();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      throw new TypeError('No default value');\n    };\n    var hasNonWS = nonWSregex.test.bind(nonWSregex);\n    var isBadHex = isBadHexRegex.test.bind(isBadHexRegex);\n    var NumberShim = (function () {\n      // this is wrapped in an IIFE because of IE 6-8's wacky scoping issues with named function expressions.\n      var NumberShim = function Number(value) {\n        var primValue;\n        if (arguments.length > 0) {\n          primValue = Type.primitive(value) ? value : toPrimitive(value, 'number');\n        } else {\n          primValue = 0;\n        }\n        if (typeof primValue === 'string') {\n          primValue = ES.Call(trimShim, primValue);\n          if (isBinary(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 2);\n          } else if (isOctal(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 8);\n          } else if (hasNonWS(primValue) || isBadHex(primValue)) {\n            primValue = NaN;\n          }\n        }\n        var receiver = this;\n        var valueOfSucceeds = valueOrFalseIfThrows(function () {\n          OrigNumber.prototype.valueOf.call(receiver);\n          return true;\n        });\n        if (receiver instanceof NumberShim && !valueOfSucceeds) {\n          return new OrigNumber(primValue);\n        }\n        /* jshint newcap: false */\n        return OrigNumber(primValue);\n        /* jshint newcap: true */\n      };\n      return NumberShim;\n    }());\n    wrapConstructor(OrigNumber, NumberShim, {});\n    // this is necessary for ES3 browsers, where these properties are non-enumerable.\n    defineProperties(NumberShim, {\n      NaN: OrigNumber.NaN,\n      MAX_VALUE: OrigNumber.MAX_VALUE,\n      MIN_VALUE: OrigNumber.MIN_VALUE,\n      NEGATIVE_INFINITY: OrigNumber.NEGATIVE_INFINITY,\n      POSITIVE_INFINITY: OrigNumber.POSITIVE_INFINITY\n    });\n    /* globals Number: true */\n    /* eslint-disable no-undef */\n    /* jshint -W020 */\n    Number = NumberShim;\n    Value.redefine(globals, 'Number', NumberShim);\n    /* jshint +W020 */\n    /* eslint-enable no-undef */\n    /* globals Number: false */\n  }\n\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n\n    isFinite: numberIsFinite,\n\n    isInteger: function isInteger(value) {\n      return numberIsFinite(value) && ES.ToInteger(value) === value;\n    },\n\n    isSafeInteger: function isSafeInteger(value) {\n      return Number.isInteger(value) && _abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n\n    isNaN: numberIsNaN\n  });\n  // Firefox 37 has a conforming Number.parseInt, but it's not === to the global parseInt (fixed in v40)\n  defineProperty(Number, 'parseInt', globals.parseInt, Number.parseInt !== globals.parseInt);\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  /*jshint elision: true */\n  /* eslint-disable no-sparse-arrays */\n  if (![, 1].find(function (item, idx) { return idx === 0; })) {\n    overrideNative(Array.prototype, 'find', ArrayPrototypeShims.find);\n  }\n  if ([, 1].findIndex(function (item, idx) { return idx === 0; }) !== 0) {\n    overrideNative(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex);\n  }\n  /* eslint-enable no-sparse-arrays */\n  /*jshint elision: false */\n\n  var isEnumerableOn = Function.bind.call(Function.bind, Object.prototype.propertyIsEnumerable);\n  var ensureEnumerable = function ensureEnumerable(obj, prop) {\n    if (supportsDescriptors && isEnumerableOn(obj, prop)) {\n      Object.defineProperty(obj, prop, { enumerable: false });\n    }\n  };\n  var sliceArgs = function sliceArgs() {\n    // per https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    // and https://gist.github.com/WebReflection/4327762cb87a8c634a29\n    var initial = Number(this);\n    var len = arguments.length;\n    var desiredArgCount = len - initial;\n    var args = new Array(desiredArgCount < 0 ? 0 : desiredArgCount);\n    for (var i = initial; i < len; ++i) {\n      args[i - initial] = arguments[i];\n    }\n    return args;\n  };\n  var assignTo = function assignTo(source) {\n    return function assignToSource(target, key) {\n      target[key] = source[key];\n      return target;\n    };\n  };\n  var assignReducer = function (target, source) {\n    var sourceKeys = keys(Object(source));\n    var symbols;\n    if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n      symbols = _filter(Object.getOwnPropertySymbols(Object(source)), isEnumerableOn(source));\n    }\n    return _reduce(_concat(sourceKeys, symbols || []), assignTo(source), target);\n  };\n\n  var ObjectShims = {\n    // 19.1.3.1\n    assign: function (target, source) {\n      var to = ES.ToObject(target, 'Cannot convert undefined or null to object');\n      return _reduce(ES.Call(sliceArgs, 1, arguments), assignReducer, to);\n    },\n\n    // Added in WebKit in https://bugs.webkit.org/show_bug.cgi?id=143865\n    is: function is(a, b) {\n      return ES.SameValue(a, b);\n    }\n  };\n  var assignHasPendingExceptions = Object.assign && Object.preventExtensions && (function () {\n    // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n    // which is 72% slower than our shim, and Firefox 40's native implementation.\n    var thrower = Object.preventExtensions({ 1: 2 });\n    try {\n      Object.assign(thrower, 'xy');\n    } catch (e) {\n      return thrower[1] === 'y';\n    }\n  }());\n  if (assignHasPendingExceptions) {\n    overrideNative(Object, 'assign', ObjectShims.assign);\n  }\n  defineProperties(Object, ObjectShims);\n\n  if (supportsDescriptors) {\n    var ES5ObjectShims = {\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: (function (Object, magic) {\n        var set;\n\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          _call(set, O, proto);\n          return O;\n        };\n\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n          _call(set, {}, null);\n        } catch (e) {\n          if (Object.prototype !== {}[magic]) {\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this[magic] = proto;\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(\n            setPrototypeOf({}, null),\n            Object.prototype\n          ) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object, '__proto__'))\n    };\n\n    defineProperties(Object, ES5ObjectShims);\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf &&\n      Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null &&\n      Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf;\n      var spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        var proto = p === null ? FAKENULL : p;\n        return spo(o, proto);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    }());\n  }\n\n  var objectKeysAcceptsPrimitives = !throwsError(function () { Object.keys('foo'); });\n  if (!objectKeysAcceptsPrimitives) {\n    var originalObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      return originalObjectKeys(ES.ToObject(value));\n    });\n    keys = Object.keys;\n  }\n  var objectKeysRejectsRegex = throwsError(function () { Object.keys(/a/g); });\n  if (objectKeysRejectsRegex) {\n    var regexRejectingObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      if (Type.regex(value)) {\n        var regexKeys = [];\n        for (var k in value) {\n          if (_hasOwnProperty(value, k)) {\n            _push(regexKeys, k);\n          }\n        }\n        return regexKeys;\n      }\n      return regexRejectingObjectKeys(value);\n    });\n    keys = Object.keys;\n  }\n\n  if (Object.getOwnPropertyNames) {\n    var objectGOPNAcceptsPrimitives = !throwsError(function () { Object.getOwnPropertyNames('foo'); });\n    if (!objectGOPNAcceptsPrimitives) {\n      var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];\n      var originalObjectGetOwnPropertyNames = Object.getOwnPropertyNames;\n      overrideNative(Object, 'getOwnPropertyNames', function getOwnPropertyNames(value) {\n        var val = ES.ToObject(value);\n        if (_toString(val) === '[object Window]') {\n          try {\n            return originalObjectGetOwnPropertyNames(val);\n          } catch (e) {\n            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects\n            return _concat([], cachedWindowNames);\n          }\n        }\n        return originalObjectGetOwnPropertyNames(val);\n      });\n    }\n  }\n  if (Object.getOwnPropertyDescriptor) {\n    var objectGOPDAcceptsPrimitives = !throwsError(function () { Object.getOwnPropertyDescriptor('foo', 'bar'); });\n    if (!objectGOPDAcceptsPrimitives) {\n      var originalObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n      overrideNative(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(value, property) {\n        return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value), property);\n      });\n    }\n  }\n  if (Object.seal) {\n    var objectSealAcceptsPrimitives = !throwsError(function () { Object.seal('foo'); });\n    if (!objectSealAcceptsPrimitives) {\n      var originalObjectSeal = Object.seal;\n      overrideNative(Object, 'seal', function seal(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectSeal(value);\n      });\n    }\n  }\n  if (Object.isSealed) {\n    var objectIsSealedAcceptsPrimitives = !throwsError(function () { Object.isSealed('foo'); });\n    if (!objectIsSealedAcceptsPrimitives) {\n      var originalObjectIsSealed = Object.isSealed;\n      overrideNative(Object, 'isSealed', function isSealed(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsSealed(value);\n      });\n    }\n  }\n  if (Object.freeze) {\n    var objectFreezeAcceptsPrimitives = !throwsError(function () { Object.freeze('foo'); });\n    if (!objectFreezeAcceptsPrimitives) {\n      var originalObjectFreeze = Object.freeze;\n      overrideNative(Object, 'freeze', function freeze(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectFreeze(value);\n      });\n    }\n  }\n  if (Object.isFrozen) {\n    var objectIsFrozenAcceptsPrimitives = !throwsError(function () { Object.isFrozen('foo'); });\n    if (!objectIsFrozenAcceptsPrimitives) {\n      var originalObjectIsFrozen = Object.isFrozen;\n      overrideNative(Object, 'isFrozen', function isFrozen(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsFrozen(value);\n      });\n    }\n  }\n  if (Object.preventExtensions) {\n    var objectPreventExtensionsAcceptsPrimitives = !throwsError(function () { Object.preventExtensions('foo'); });\n    if (!objectPreventExtensionsAcceptsPrimitives) {\n      var originalObjectPreventExtensions = Object.preventExtensions;\n      overrideNative(Object, 'preventExtensions', function preventExtensions(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectPreventExtensions(value);\n      });\n    }\n  }\n  if (Object.isExtensible) {\n    var objectIsExtensibleAcceptsPrimitives = !throwsError(function () { Object.isExtensible('foo'); });\n    if (!objectIsExtensibleAcceptsPrimitives) {\n      var originalObjectIsExtensible = Object.isExtensible;\n      overrideNative(Object, 'isExtensible', function isExtensible(value) {\n        if (!ES.TypeIsObject(value)) { return false; }\n        return originalObjectIsExtensible(value);\n      });\n    }\n  }\n  if (Object.getPrototypeOf) {\n    var objectGetProtoAcceptsPrimitives = !throwsError(function () { Object.getPrototypeOf('foo'); });\n    if (!objectGetProtoAcceptsPrimitives) {\n      var originalGetProto = Object.getPrototypeOf;\n      overrideNative(Object, 'getPrototypeOf', function getPrototypeOf(value) {\n        return originalGetProto(ES.ToObject(value));\n      });\n    }\n  }\n\n  var hasFlags = supportsDescriptors && (function () {\n    var desc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags');\n    return desc && ES.IsCallable(desc.get);\n  }());\n  if (supportsDescriptors && !hasFlags) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n\n  var regExpSupportsFlagsWithRegex = supportsDescriptors && valueOrFalseIfThrows(function () {\n    return String(new RegExp(/a/g, 'i')) === '/a/i';\n  });\n  var regExpNeedsToSupportSymbolMatch = hasSymbols && supportsDescriptors && (function () {\n    // Edge 0.12 supports flags fully, but does not support Symbol.match\n    var regex = /./;\n    regex[Symbol.match] = false;\n    return RegExp(regex) === regex;\n  }());\n\n  var regexToStringIsGeneric = valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'abc' }) === '/abc/';\n  });\n  var regexToStringSupportsGenericFlags = regexToStringIsGeneric && valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'a', flags: 'b' }) === '/a/b';\n  });\n  if (!regexToStringIsGeneric || !regexToStringSupportsGenericFlags) {\n    var origRegExpToString = RegExp.prototype.toString;\n    defineProperty(RegExp.prototype, 'toString', function toString() {\n      var R = ES.RequireObjectCoercible(this);\n      if (Type.regex(R)) {\n        return _call(origRegExpToString, R);\n      }\n      var pattern = $String(R.source);\n      var flags = $String(R.flags);\n      return '/' + pattern + '/' + flags;\n    }, true);\n    Value.preserveToString(RegExp.prototype.toString, origRegExpToString);\n  }\n\n  if (supportsDescriptors && (!regExpSupportsFlagsWithRegex || regExpNeedsToSupportSymbolMatch)) {\n    var flagsGetter = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get;\n    var sourceDesc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'source') || {};\n    var legacySourceGetter = function () { return this.source; }; // prior to it being a getter, it's own + nonconfigurable\n    var sourceGetter = ES.IsCallable(sourceDesc.get) ? sourceDesc.get : legacySourceGetter;\n\n    var OrigRegExp = RegExp;\n    var RegExpShim = (function () {\n      return function RegExp(pattern, flags) {\n        var patternIsRegExp = ES.IsRegExp(pattern);\n        var calledWithNew = this instanceof RegExp;\n        if (!calledWithNew && patternIsRegExp && typeof flags === 'undefined' && pattern.constructor === RegExp) {\n          return pattern;\n        }\n\n        var P = pattern;\n        var F = flags;\n        if (Type.regex(pattern)) {\n          P = ES.Call(sourceGetter, pattern);\n          F = typeof flags === 'undefined' ? ES.Call(flagsGetter, pattern) : flags;\n          return new RegExp(P, F);\n        } else if (patternIsRegExp) {\n          P = pattern.source;\n          F = typeof flags === 'undefined' ? pattern.flags : flags;\n        }\n        return new OrigRegExp(pattern, flags);\n      };\n    }());\n    wrapConstructor(OrigRegExp, RegExpShim, {\n      $input: true // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n    });\n    /* globals RegExp: true */\n    /* eslint-disable no-undef */\n    /* jshint -W020 */\n    RegExp = RegExpShim;\n    Value.redefine(globals, 'RegExp', RegExpShim);\n    /* jshint +W020 */\n    /* eslint-enable no-undef */\n    /* globals RegExp: false */\n  }\n\n  if (supportsDescriptors) {\n    var regexGlobals = {\n      input: '$_',\n      lastMatch: '$&',\n      lastParen: '$+',\n      leftContext: '$`',\n      rightContext: '$\\''\n    };\n    _forEach(keys(regexGlobals), function (prop) {\n      if (prop in RegExp && !(regexGlobals[prop] in RegExp)) {\n        Value.getter(RegExp, regexGlobals[prop], function get() {\n          return RegExp[prop];\n        });\n      }\n    });\n  }\n  addDefaultSpecies(RegExp);\n\n  var inverseEpsilon = 1 / Number.EPSILON;\n  var roundTiesToEven = function roundTiesToEven(n) {\n    // Even though this reduces down to `return n`, it takes advantage of built-in rounding.\n    return (n + inverseEpsilon) - inverseEpsilon;\n  };\n  var BINARY_32_EPSILON = Math.pow(2, -23);\n  var BINARY_32_MAX_VALUE = Math.pow(2, 127) * (2 - BINARY_32_EPSILON);\n  var BINARY_32_MIN_VALUE = Math.pow(2, -126);\n  var E = Math.E;\n  var LOG2E = Math.LOG2E;\n  var LOG10E = Math.LOG10E;\n  var numberCLZ = Number.prototype.clz;\n  delete Number.prototype.clz; // Safari 8 has Number#clz\n\n  var MathShims = {\n    acosh: function acosh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || value < 1) { return NaN; }\n      if (x === 1) { return 0; }\n      if (x === Infinity) { return x; }\n      return _log(x / E + _sqrt(x + 1) * _sqrt(x - 1) / E) + 1;\n    },\n\n    asinh: function asinh(value) {\n      var x = Number(value);\n      if (x === 0 || !globalIsFinite(x)) {\n        return x;\n      }\n      return x < 0 ? -asinh(-x) : _log(x + _sqrt(x * x + 1));\n    },\n\n    atanh: function atanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x < -1 || x > 1) {\n        return NaN;\n      }\n      if (x === -1) { return -Infinity; }\n      if (x === 1) { return Infinity; }\n      if (x === 0) { return x; }\n      return 0.5 * _log((1 + x) / (1 - x));\n    },\n\n    cbrt: function cbrt(value) {\n      var x = Number(value);\n      if (x === 0) { return x; }\n      var negate = x < 0;\n      var result;\n      if (negate) { x = -x; }\n      if (x === Infinity) {\n        result = Infinity;\n      } else {\n        result = _exp(_log(x) / 3);\n        // from http://en.wikipedia.org/wiki/Cube_root#Numerical_methods\n        result = (x / (result * result) + (2 * result)) / 3;\n      }\n      return negate ? -result : result;\n    },\n\n    clz32: function clz32(value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      var x = Number(value);\n      var number = ES.ToUint32(x);\n      if (number === 0) {\n        return 32;\n      }\n      return numberCLZ ? ES.Call(numberCLZ, number) : 31 - _floor(_log(number + 0.5) * LOG2E);\n    },\n\n    cosh: function cosh(value) {\n      var x = Number(value);\n      if (x === 0) { return 1; } // +0 or -0\n      if (numberIsNaN(x)) { return NaN; }\n      if (!globalIsFinite(x)) { return Infinity; }\n      if (x < 0) { x = -x; }\n      if (x > 21) { return _exp(x) / 2; }\n      return (_exp(x) + _exp(-x)) / 2;\n    },\n\n    expm1: function expm1(value) {\n      var x = Number(value);\n      if (x === -Infinity) { return -1; }\n      if (!globalIsFinite(x) || x === 0) { return x; }\n      if (_abs(x) > 0.5) {\n        return _exp(x) - 1;\n      }\n      // A more precise approximation using Taylor series expansion\n      // from https://github.com/paulmillr/es6-shim/issues/314#issuecomment-70293986\n      var t = x;\n      var sum = 0;\n      var n = 1;\n      while (sum + t !== sum) {\n        sum += t;\n        n += 1;\n        t *= x / n;\n      }\n      return sum;\n    },\n\n    hypot: function hypot(x, y) {\n      var result = 0;\n      var largest = 0;\n      for (var i = 0; i < arguments.length; ++i) {\n        var value = _abs(Number(arguments[i]));\n        if (largest < value) {\n          result *= (largest / value) * (largest / value);\n          result += 1;\n          largest = value;\n        } else {\n          result += value > 0 ? (value / largest) * (value / largest) : value;\n        }\n      }\n      return largest === Infinity ? Infinity : largest * _sqrt(result);\n    },\n\n    log2: function log2(value) {\n      return _log(value) * LOG2E;\n    },\n\n    log10: function log10(value) {\n      return _log(value) * LOG10E;\n    },\n\n    log1p: function log1p(value) {\n      var x = Number(value);\n      if (x < -1 || numberIsNaN(x)) { return NaN; }\n      if (x === 0 || x === Infinity) { return x; }\n      if (x === -1) { return -Infinity; }\n\n      return (1 + x) - 1 === 0 ? x : x * (_log(1 + x) / ((1 + x) - 1));\n    },\n\n    sign: _sign,\n\n    sinh: function sinh(value) {\n      var x = Number(value);\n      if (!globalIsFinite(x) || x === 0) { return x; }\n\n      if (_abs(x) < 1) {\n        return (Math.expm1(x) - Math.expm1(-x)) / 2;\n      }\n      return (_exp(x - 1) - _exp(-x - 1)) * E / 2;\n    },\n\n    tanh: function tanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x === 0) { return x; }\n      // can exit early at +-20 as JS loses precision for true value at this integer\n      if (x >= 20) { return 1; }\n      if (x <= -20) { return -1; }\n\n      return (Math.expm1(x) - Math.expm1(-x)) / (_exp(x) + _exp(-x));\n    },\n\n    trunc: function trunc(value) {\n      var x = Number(value);\n      return x < 0 ? -_floor(-x) : _floor(x);\n    },\n\n    imul: function imul(x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      var a = ES.ToUint32(x);\n      var b = ES.ToUint32(y);\n      var ah = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return (al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0;\n    },\n\n    fround: function fround(x) {\n      var v = Number(x);\n      if (v === 0 || v === Infinity || v === -Infinity || numberIsNaN(v)) {\n        return v;\n      }\n      var sign = _sign(v);\n      var abs = _abs(v);\n      if (abs < BINARY_32_MIN_VALUE) {\n        return sign * roundTiesToEven(abs / BINARY_32_MIN_VALUE / BINARY_32_EPSILON) * BINARY_32_MIN_VALUE * BINARY_32_EPSILON;\n      }\n      // Veltkamp's splitting (?)\n      var a = (1 + BINARY_32_EPSILON / Number.EPSILON) * abs;\n      var result = a - (a - abs);\n      if (result > BINARY_32_MAX_VALUE || numberIsNaN(result)) {\n        return sign * Infinity;\n      }\n      return sign * result;\n    }\n  };\n  defineProperties(Math, MathShims);\n  // IE 11 TP has an imprecise log1p: reports Math.log1p(-1e-17) as 0\n  defineProperty(Math, 'log1p', MathShims.log1p, Math.log1p(-1e-17) !== -1e-17);\n  // IE 11 TP has an imprecise asinh: reports Math.asinh(-1e7) as not exactly equal to -Math.asinh(1e7)\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(-1e7) !== -Math.asinh(1e7));\n  // Chrome 40 has an imprecise Math.tanh with very small numbers\n  defineProperty(Math, 'tanh', MathShims.tanh, Math.tanh(-2e-17) !== -2e-17);\n  // Chrome 40 loses Math.acosh precision with high numbers\n  defineProperty(Math, 'acosh', MathShims.acosh, Math.acosh(Number.MAX_VALUE) === Infinity);\n  // Firefox 38 on Windows\n  defineProperty(Math, 'cbrt', MathShims.cbrt, Math.abs(1 - Math.cbrt(1e-300) / 1e-100) / Number.EPSILON > 8);\n  // node 0.11 has an imprecise Math.sinh with very small numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(-2e-17) !== -2e-17);\n  // FF 35 on Linux reports 22025.465794806725 for Math.expm1(10)\n  var expm1OfTen = Math.expm1(10);\n  defineProperty(Math, 'expm1', MathShims.expm1, expm1OfTen > 22025.465794806719 || expm1OfTen < 22025.4657948067165168);\n\n  var origMathRound = Math.round;\n  // breaks in e.g. Safari 8, Internet Explorer 11, Opera 12\n  var roundHandlesBoundaryConditions = Math.round(0.5 - Number.EPSILON / 4) === 0 && Math.round(-0.5 + Number.EPSILON / 3.99) === 1;\n\n  // When engines use Math.floor(x + 0.5) internally, Math.round can be buggy for large integers.\n  // This behavior should be governed by \"round to nearest, ties to even mode\"\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-terms-and-definitions-number-type\n  // These are the boundary cases where it breaks.\n  var smallestPositiveNumberWhereRoundBreaks = inverseEpsilon + 1;\n  var largestPositiveNumberWhereRoundBreaks = 2 * inverseEpsilon - 1;\n  var roundDoesNotIncreaseIntegers = [smallestPositiveNumberWhereRoundBreaks, largestPositiveNumberWhereRoundBreaks].every(function (num) {\n    return Math.round(num) === num;\n  });\n  defineProperty(Math, 'round', function round(x) {\n    var floor = _floor(x);\n    var ceil = floor === -1 ? -0 : floor + 1;\n    return x - floor < 0.5 ? floor : ceil;\n  }, !roundHandlesBoundaryConditions || !roundDoesNotIncreaseIntegers);\n  Value.preserveToString(Math.round, origMathRound);\n\n  var origImul = Math.imul;\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n    Value.preserveToString(Math.imul, origImul);\n  }\n  if (Math.imul.length !== 2) {\n    // Safari 8.0.4 has a length of 1\n    // fixed in https://bugs.webkit.org/show_bug.cgi?id=143658\n    overrideNative(Math, 'imul', function imul(x, y) {\n      return ES.Call(origImul, Math, arguments);\n    });\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = (function () {\n    var setTimeout = globals.setTimeout;\n    // some environments don't have setTimeout - no way to shim here.\n    if (typeof setTimeout !== 'function' && typeof setTimeout !== 'object') { return; }\n\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (typeof promise._promise === 'undefined') {\n        return false; // uninitialized, or missing our hidden field.\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsConstructor(C)) {\n        throw new TypeError('Bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        if (capability.resolve !== void 0 || capability.reject !== void 0) {\n          throw new TypeError('Bad Promise implementation!');\n        }\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      // Initialize fields to inform optimizers about the object shape.\n      capability.resolve = void 0;\n      capability.reject = void 0;\n      capability.promise = new C(resolver);\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('Bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var makeZeroTimeout;\n    /*global window */\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          _push(timeouts, fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) { return; }\n            var fn = _shift(timeouts);\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      var pr = P && P.resolve && P.resolve();\n      return pr && function (task) {\n        return pr.then(task);\n      };\n    };\n    /*global process */\n    /* jscs:disable disallowMultiLineTernary */\n    var enqueue = ES.IsCallable(globals.setImmediate) ?\n      globals.setImmediate :\n      typeof process === 'object' && process.nextTick ? process.nextTick :\n      makePromiseAsap() ||\n      (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() :\n      function (task) { setTimeout(task, 0); }); // fallback\n    /* jscs:enable disallowMultiLineTernary */\n\n    // Constants for Promise implementation\n    var PROMISE_IDENTITY = function (x) { return x; };\n    var PROMISE_THROWER = function (e) { throw e; };\n    var PROMISE_PENDING = 0;\n    var PROMISE_FULFILLED = 1;\n    var PROMISE_REJECTED = 2;\n    // We store fulfill/reject handlers and capabilities in a single array.\n    var PROMISE_FULFILL_OFFSET = 0;\n    var PROMISE_REJECT_OFFSET = 1;\n    var PROMISE_CAPABILITY_OFFSET = 2;\n    // This is used in an optimization for chaining promises via then.\n    var PROMISE_FAKE_CAPABILITY = {};\n\n    var enqueuePromiseReactionJob = function (handler, capability, argument) {\n      enqueue(function () {\n        promiseReactionJob(handler, capability, argument);\n      });\n    };\n\n    var promiseReactionJob = function (handler, promiseCapability, argument) {\n      var handlerResult, f;\n      if (promiseCapability === PROMISE_FAKE_CAPABILITY) {\n        // Fast case, when we don't actually need to chain through to a\n        // (real) promiseCapability.\n        return handler(argument);\n      }\n      try {\n        handlerResult = handler(argument);\n        f = promiseCapability.resolve;\n      } catch (e) {\n        handlerResult = e;\n        f = promiseCapability.reject;\n      }\n      f(handlerResult);\n    };\n\n    var fulfillPromise = function (promise, value) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.fulfillReactionHandler0,\n          _promise.reactionCapability0,\n          value\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_FULFILL_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              value\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = value;\n      _promise.state = PROMISE_FULFILLED;\n      _promise.reactionLength = 0;\n    };\n\n    var rejectPromise = function (promise, reason) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.rejectReactionHandler0,\n          _promise.reactionCapability0,\n          reason\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_REJECT_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              reason\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = reason;\n      _promise.state = PROMISE_REJECTED;\n      _promise.reactionLength = 0;\n    };\n\n    var createResolvingFunctions = function (promise) {\n      var alreadyResolved = false;\n      var resolve = function (resolution) {\n        var then;\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        if (resolution === promise) {\n          return rejectPromise(promise, new TypeError('Self resolution'));\n        }\n        if (!ES.TypeIsObject(resolution)) {\n          return fulfillPromise(promise, resolution);\n        }\n        try {\n          then = resolution.then;\n        } catch (e) {\n          return rejectPromise(promise, e);\n        }\n        if (!ES.IsCallable(then)) {\n          return fulfillPromise(promise, resolution);\n        }\n        enqueue(function () {\n          promiseResolveThenableJob(promise, resolution, then);\n        });\n      };\n      var reject = function (reason) {\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        return rejectPromise(promise, reason);\n      };\n      return { resolve: resolve, reject: reject };\n    };\n\n    var optimizedThen = function (then, thenable, resolve, reject) {\n      // Optimization: since we discard the result, we can pass our\n      // own then implementation a special hint to let it know it\n      // doesn't have to create it.  (The PROMISE_FAKE_CAPABILITY\n      // object is local to this implementation and unforgeable outside.)\n      if (then === Promise$prototype$then) {\n        _call(then, thenable, resolve, reject, PROMISE_FAKE_CAPABILITY);\n      } else {\n        _call(then, thenable, resolve, reject);\n      }\n    };\n    var promiseResolveThenableJob = function (promise, thenable, then) {\n      var resolvingFunctions = createResolvingFunctions(promise);\n      var resolve = resolvingFunctions.resolve;\n      var reject = resolvingFunctions.reject;\n      try {\n        optimizedThen(then, thenable, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var Promise$prototype, Promise$prototype$then;\n    var Promise = (function () {\n      var PromiseShim = function Promise(resolver) {\n        if (!(this instanceof PromiseShim)) {\n          throw new TypeError('Constructor Promise requires \"new\"');\n        }\n        if (this && this._promise) {\n          throw new TypeError('Bad construction');\n        }\n        // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n        if (!ES.IsCallable(resolver)) {\n          throw new TypeError('not a valid resolver');\n        }\n        var promise = emulateES6construct(this, PromiseShim, Promise$prototype, {\n          _promise: {\n            result: void 0,\n            state: PROMISE_PENDING,\n            // The first member of the \"reactions\" array is inlined here,\n            // since most promises only have one reaction.\n            // We've also exploded the 'reaction' object to inline the\n            // \"handler\" and \"capability\" fields, since both fulfill and\n            // reject reactions share the same capability.\n            reactionLength: 0,\n            fulfillReactionHandler0: void 0,\n            rejectReactionHandler0: void 0,\n            reactionCapability0: void 0\n          }\n        });\n        var resolvingFunctions = createResolvingFunctions(promise);\n        var reject = resolvingFunctions.reject;\n        try {\n          resolver(resolvingFunctions.resolve, reject);\n        } catch (e) {\n          reject(e);\n        }\n        return promise;\n      };\n      return PromiseShim;\n    }());\n    Promise$prototype = Promise.prototype;\n\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var alreadyCalled = false;\n      return function (x) {\n        if (alreadyCalled) { return; }\n        alreadyCalled = true;\n        values[index] = x;\n        if ((--remaining.count) === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n\n    var performPromiseAll = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var values = [];\n      var remaining = { count: 1 };\n      var next, nextValue;\n      var index = 0;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        values[index] = void 0;\n        var nextPromise = C.resolve(nextValue);\n        var resolveElement = _promiseAllResolver(\n          index, values, resultCapability, remaining\n        );\n        remaining.count += 1;\n        optimizedThen(nextPromise.then, nextPromise, resolveElement, resultCapability.reject);\n        index += 1;\n      }\n      if ((--remaining.count) === 0) {\n        var resolve = resultCapability.resolve;\n        resolve(values); // call w/ this===undefined\n      }\n      return resultCapability.promise;\n    };\n\n    var performPromiseRace = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var next, nextValue, nextPromise;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            // NOTE: If iterable has no items, resulting promise will never\n            // resolve; see:\n            // https://github.com/domenic/promises-unwrapping/issues/75\n            // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        nextPromise = C.resolve(nextValue);\n        optimizedThen(nextPromise.then, nextPromise, resultCapability.resolve, resultCapability.reject);\n      }\n      return resultCapability.promise;\n    };\n\n    defineProperties(Promise, {\n      all: function all(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseAll(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      race: function race(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseRace(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      reject: function reject(reason) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        var capability = new PromiseCapability(C);\n        var rejectFunc = capability.reject;\n        rejectFunc(reason); // call with this===undefined\n        return capability.promise;\n      },\n\n      resolve: function resolve(v) {\n        // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        if (ES.IsPromise(v)) {\n          var constructor = v.constructor;\n          if (constructor === C) {\n            return v;\n          }\n        }\n        var capability = new PromiseCapability(C);\n        var resolveFunc = capability.resolve;\n        resolveFunc(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(null, onRejected);\n      },\n\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) { throw new TypeError('not a promise'); }\n        var C = ES.SpeciesConstructor(promise, Promise);\n        var resultCapability;\n        var returnValueIsIgnored = arguments.length > 2 && arguments[2] === PROMISE_FAKE_CAPABILITY;\n        if (returnValueIsIgnored && C === Promise) {\n          resultCapability = PROMISE_FAKE_CAPABILITY;\n        } else {\n          resultCapability = new PromiseCapability(C);\n        }\n        // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n        // Note that we've split the 'reaction' object into its two\n        // components, \"capabilities\" and \"handler\"\n        // \"capabilities\" is always equal to `resultCapability`\n        var fulfillReactionHandler = ES.IsCallable(onFulfilled) ? onFulfilled : PROMISE_IDENTITY;\n        var rejectReactionHandler = ES.IsCallable(onRejected) ? onRejected : PROMISE_THROWER;\n        var _promise = promise._promise;\n        var value;\n        if (_promise.state === PROMISE_PENDING) {\n          if (_promise.reactionLength === 0) {\n            _promise.fulfillReactionHandler0 = fulfillReactionHandler;\n            _promise.rejectReactionHandler0 = rejectReactionHandler;\n            _promise.reactionCapability0 = resultCapability;\n          } else {\n            var idx = 3 * (_promise.reactionLength - 1);\n            _promise[idx + PROMISE_FULFILL_OFFSET] = fulfillReactionHandler;\n            _promise[idx + PROMISE_REJECT_OFFSET] = rejectReactionHandler;\n            _promise[idx + PROMISE_CAPABILITY_OFFSET] = resultCapability;\n          }\n          _promise.reactionLength += 1;\n        } else if (_promise.state === PROMISE_FULFILLED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            fulfillReactionHandler, resultCapability, value\n          );\n        } else if (_promise.state === PROMISE_REJECTED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            rejectReactionHandler, resultCapability, value\n          );\n        } else {\n          throw new TypeError('unexpected Promise state');\n        }\n        return resultCapability.promise;\n      }\n    });\n    // This helps the optimizer by ensuring that methods which take\n    // capabilities aren't polymorphic.\n    PROMISE_FAKE_CAPABILITY = new PromiseCapability(Promise);\n    Promise$prototype$then = Promise$prototype.then;\n\n    return Promise;\n  }());\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  if (typeof PromiseShim === 'function') {\n    // export the Promise constructor.\n    defineProperties(globals, { Promise: PromiseShim });\n    // In Chrome 33 (and thereabouts) Promise is defined, but the\n    // implementation is buggy in a number of ways.  Let's check subclassing\n    // support to see if we have a buggy implementation.\n    var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n      return S.resolve(42).then(function () {}) instanceof S;\n    });\n    var promiseIgnoresNonFunctionThenCallbacks = !throwsError(function () { globals.Promise.reject(42).then(null, 5).then(null, noop); });\n    var promiseRequiresObjectContext = throwsError(function () { globals.Promise.call(3, noop); });\n    // Promise.resolve() was errata'ed late in the ES6 process.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1170742\n    //      https://code.google.com/p/v8/issues/detail?id=4161\n    // It serves as a proxy for a number of other bugs in early Promise\n    // implementations.\n    var promiseResolveBroken = (function (Promise) {\n      var p = Promise.resolve(5);\n      p.constructor = {};\n      var p2 = Promise.resolve(p);\n      try {\n        p2.then(null, noop).then(null, noop); // avoid \"uncaught rejection\" warnings in console\n      } catch (e) {\n        return true; // v8 native Promises break here https://code.google.com/p/chromium/issues/detail?id=575314\n      }\n      return p === p2; // This *should* be false!\n    }(globals.Promise));\n\n    // Chrome 46 (probably older too) does not retrieve a thenable's .then synchronously\n    var getsThenSynchronously = supportsDescriptors && (function () {\n      var count = 0;\n      var thenable = Object.defineProperty({}, 'then', { get: function () { count += 1; } });\n      Promise.resolve(thenable);\n      return count === 1;\n    }());\n\n    var BadResolverPromise = function BadResolverPromise(executor) {\n      var p = new Promise(executor);\n      executor(3, function () {});\n      this.then = p.then;\n      this.constructor = BadResolverPromise;\n    };\n    BadResolverPromise.prototype = Promise.prototype;\n    BadResolverPromise.all = Promise.all;\n    // Chrome Canary 49 (probably older too) has some implementation bugs\n    var hasBadResolverPromise = valueOrFalseIfThrows(function () {\n      return !!BadResolverPromise.all([1, 2]);\n    });\n\n    if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks ||\n        !promiseRequiresObjectContext || promiseResolveBroken ||\n        !getsThenSynchronously || hasBadResolverPromise) {\n      /* globals Promise: true */\n      /* eslint-disable no-undef */\n      /* jshint -W020 */\n      Promise = PromiseShim;\n      /* jshint +W020 */\n      /* eslint-enable no-undef */\n      /* globals Promise: false */\n      overrideNative(globals, 'Promise', PromiseShim);\n    }\n    if (Promise.all.length !== 1) {\n      var origAll = Promise.all;\n      overrideNative(Promise, 'all', function all(iterable) {\n        return ES.Call(origAll, this, arguments);\n      });\n    }\n    if (Promise.race.length !== 1) {\n      var origRace = Promise.race;\n      overrideNative(Promise, 'race', function race(iterable) {\n        return ES.Call(origRace, this, arguments);\n      });\n    }\n    if (Promise.resolve.length !== 1) {\n      var origResolve = Promise.resolve;\n      overrideNative(Promise, 'resolve', function resolve(x) {\n        return ES.Call(origResolve, this, arguments);\n      });\n    }\n    if (Promise.reject.length !== 1) {\n      var origReject = Promise.reject;\n      overrideNative(Promise, 'reject', function reject(r) {\n        return ES.Call(origReject, this, arguments);\n      });\n    }\n    ensureEnumerable(Promise, 'all');\n    ensureEnumerable(Promise, 'race');\n    ensureEnumerable(Promise, 'resolve');\n    ensureEnumerable(Promise, 'reject');\n    addDefaultSpecies(Promise);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = keys(_reduce(a, function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n\n  if (supportsDescriptors) {\n\n    var fastkey = function fastkey(key) {\n      if (!preservesInsertionOrder) {\n        return null;\n      }\n      if (typeof key === 'undefined' || key === null) {\n        return '^' + ES.ToString(key);\n      } else if (typeof key === 'string') {\n        return '$' + key;\n      } else if (typeof key === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      } else if (typeof key === 'boolean') {\n        return 'b' + key;\n      }\n      return null;\n    };\n\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n\n    var addIterableToMap = function addIterableToMap(MapConstructor, map, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (entry) {\n          if (!ES.TypeIsObject(entry)) {\n            throw new TypeError('Iterator value ' + entry + ' is not an entry object');\n          }\n          map.set(entry[0], entry[1]);\n        });\n      } else if (iterable instanceof MapConstructor) {\n        _call(MapConstructor.prototype.forEach, iterable, function (value, key) {\n          map.set(key, value);\n        });\n      } else {\n        var iter, adder;\n        if (iterable !== null && typeof iterable !== 'undefined') {\n          adder = map.set;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad map'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextItem = next.value;\n            try {\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');\n              }\n              _call(adder, map, nextItem[0], nextItem[1]);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n    var addIterableToSet = function addIterableToSet(SetConstructor, set, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (value) {\n          set.add(value);\n        });\n      } else if (iterable instanceof SetConstructor) {\n        _call(SetConstructor.prototype.forEach, iterable, function (value) {\n          set.add(value);\n        });\n      } else {\n        var iter, adder;\n        if (iterable !== null && typeof iterable !== 'undefined') {\n          adder = set.add;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad set'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextValue = next.value;\n            try {\n              _call(adder, set, nextValue);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n\n    var collectionShims = {\n      Map: (function () {\n\n        var empty = {};\n\n        var MapEntry = function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        };\n\n        MapEntry.prototype.isRemoved = function isRemoved() {\n          return this.key === empty;\n        };\n\n        var isMap = function isMap(map) {\n          return !!map._es6map;\n        };\n\n        var requireMapSlot = function requireMapSlot(map, method) {\n          if (!ES.TypeIsObject(map) || !isMap(map)) {\n            throw new TypeError('Method Map.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(map));\n          }\n        };\n\n        var MapIterator = function MapIterator(map, kind) {\n          requireMapSlot(map, '[[MapIterator]]');\n          this.head = map._head;\n          this.i = this.head;\n          this.kind = kind;\n        };\n\n        MapIterator.prototype = {\n          next: function next() {\n            var i = this.i;\n            var kind = this.kind;\n            var head = this.head;\n            if (typeof this.i === 'undefined') {\n              return iteratorResult();\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            var result;\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return iteratorResult(result);\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return iteratorResult();\n          }\n        };\n        addIterator(MapIterator.prototype);\n\n        var Map$prototype;\n        var MapShim = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          if (this && this._es6map) {\n            throw new TypeError('Bad construction');\n          }\n          var map = emulateES6construct(this, Map, Map$prototype, {\n            _es6map: true,\n            _head: null,\n            _storage: emptyObject(),\n            _size: 0\n          });\n\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          head.next = head.prev = head;\n          map._head = head;\n\n          // Optionally initialize map from iterable\n          if (arguments.length > 0) {\n            addIterableToMap(Map, map, arguments[0]);\n          }\n          return map;\n        };\n        Map$prototype = MapShim.prototype;\n\n        Value.getter(Map$prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n\n        defineProperties(Map$prototype, {\n          get: function get(key) {\n            requireMapSlot(this, 'get');\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              var entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n\n          has: function has(key) {\n            requireMapSlot(this, 'has');\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n\n          set: function set(key, value) {\n            requireMapSlot(this, 'set');\n            var head = this._head;\n            var i = head;\n            var entry;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              } else {\n                entry = this._storage[fkey] = new MapEntry(key, value);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n\n          'delete': function (key) {\n            requireMapSlot(this, 'delete');\n            var head = this._head;\n            var i = head;\n            var fkey = fastkey(key);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n\n          clear: function clear() {\n            requireMapSlot(this, 'clear');\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head;\n            var i = head;\n            var p = i.next;\n            while ((i = p) !== head) {\n              i.key = i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n\n          keys: function keys() {\n            requireMapSlot(this, 'keys');\n            return new MapIterator(this, 'key');\n          },\n\n          values: function values() {\n            requireMapSlot(this, 'values');\n            return new MapIterator(this, 'value');\n          },\n\n          entries: function entries() {\n            requireMapSlot(this, 'entries');\n            return new MapIterator(this, 'key+value');\n          },\n\n          forEach: function forEach(callback) {\n            requireMapSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                _call(callback, context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map$prototype, Map$prototype.entries);\n\n        return MapShim;\n      }()),\n\n      Set: (function () {\n        var isSet = function isSet(set) {\n          return set._es6set && typeof set._storage !== 'undefined';\n        };\n        var requireSetSlot = function requireSetSlot(set, method) {\n          if (!ES.TypeIsObject(set) || !isSet(set)) {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('Set.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(set));\n          }\n        };\n\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var Set$prototype;\n        var SetShim = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          if (this && this._es6set) {\n            throw new TypeError('Bad construction');\n          }\n          var set = emulateES6construct(this, Set, Set$prototype, {\n            _es6set: true,\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          // Optionally initialize Set from iterable\n          if (arguments.length > 0) {\n            addIterableToSet(Set, set, arguments[0]);\n          }\n          return set;\n        };\n        Set$prototype = SetShim.prototype;\n\n        var decodeKey = function (key) {\n          var k = key;\n          if (k === '^null') {\n            return null;\n          } else if (k === '^undefined') {\n            return void 0;\n          } else {\n            var first = k.charAt(0);\n            if (first === '$') {\n              return _strSlice(k, 1);\n            } else if (first === 'n') {\n              return +_strSlice(k, 1);\n            } else if (first === 'b') {\n              return k === 'btrue';\n            }\n          }\n          return +k;\n        };\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = set['[[SetData]]'] = new collectionShims.Map();\n            _forEach(keys(set._storage), function (key) {\n              var k = decodeKey(key);\n              m.set(k, k);\n            });\n            set['[[SetData]]'] = m;\n          }\n          set._storage = null; // free old backing storage\n        };\n\n        Value.getter(SetShim.prototype, 'size', function () {\n          requireSetSlot(this, 'size');\n          if (this._storage) {\n            return keys(this._storage).length;\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n\n        defineProperties(SetShim.prototype, {\n          has: function has(key) {\n            requireSetSlot(this, 'has');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n\n          add: function add(key) {\n            requireSetSlot(this, 'add');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n\n          'delete': function (key) {\n            requireSetSlot(this, 'delete');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return (delete this._storage[fkey]) && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n\n          clear: function clear() {\n            requireSetSlot(this, 'clear');\n            if (this._storage) {\n              this._storage = emptyObject();\n            }\n            if (this['[[SetData]]']) {\n              this['[[SetData]]'].clear();\n            }\n          },\n\n          values: function values() {\n            requireSetSlot(this, 'values');\n            ensureMap(this);\n            return this['[[SetData]]'].values();\n          },\n\n          entries: function entries() {\n            requireSetSlot(this, 'entries');\n            ensureMap(this);\n            return this['[[SetData]]'].entries();\n          },\n\n          forEach: function forEach(callback) {\n            requireSetSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                _call(callback, context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim.prototype, 'keys', SetShim.prototype.values, true);\n        addIterator(SetShim.prototype, SetShim.prototype.values);\n\n        return SetShim;\n      }())\n    };\n\n    if (globals.Map || globals.Set) {\n      // Safari 8, for example, doesn't accept an iterable.\n      var mapAcceptsArguments = valueOrFalseIfThrows(function () { return new Map([[1, 2]]).get(1) === 2; });\n      if (!mapAcceptsArguments) {\n        var OrigMapNoArgs = globals.Map;\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMapNoArgs();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, globals.Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = create(OrigMapNoArgs.prototype);\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMapNoArgs);\n      }\n      var testMap = new Map();\n      var mapUsesSameValueZero = (function () {\n        // Chrome 38-42, node 0.11/0.12, iojs 1/2 also have a bug when the Map has a size > 4\n        var m = new Map([[1, 0], [2, 0], [3, 0], [4, 0]]);\n        m.set(-0, m);\n        return m.get(0) === m && m.get(-0) === m && m.has(0) && m.has(-0);\n      }());\n      var mapSupportsChaining = testMap.set(1, 2) === testMap;\n      if (!mapUsesSameValueZero || !mapSupportsChaining) {\n        var origMapSet = Map.prototype.set;\n        overrideNative(Map.prototype, 'set', function set(k, v) {\n          _call(origMapSet, this, k === 0 ? 0 : k, v);\n          return this;\n        });\n      }\n      if (!mapUsesSameValueZero) {\n        var origMapGet = Map.prototype.get;\n        var origMapHas = Map.prototype.has;\n        defineProperties(Map.prototype, {\n          get: function get(k) {\n            return _call(origMapGet, this, k === 0 ? 0 : k);\n          },\n          has: function has(k) {\n            return _call(origMapHas, this, k === 0 ? 0 : k);\n          }\n        }, true);\n        Value.preserveToString(Map.prototype.get, origMapGet);\n        Value.preserveToString(Map.prototype.has, origMapHas);\n      }\n      var testSet = new Set();\n      var setUsesSameValueZero = (function (s) {\n        s['delete'](0);\n        s.add(-0);\n        return !s.has(0);\n      }(testSet));\n      var setSupportsChaining = testSet.add(1) === testSet;\n      if (!setUsesSameValueZero || !setSupportsChaining) {\n        var origSetAdd = Set.prototype.add;\n        Set.prototype.add = function add(v) {\n          _call(origSetAdd, this, v === 0 ? 0 : v);\n          return this;\n        };\n        Value.preserveToString(Set.prototype.add, origSetAdd);\n      }\n      if (!setUsesSameValueZero) {\n        var origSetHas = Set.prototype.has;\n        Set.prototype.has = function has(v) {\n          return _call(origSetHas, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype.has, origSetHas);\n        var origSetDel = Set.prototype['delete'];\n        Set.prototype['delete'] = function SetDelete(v) {\n          return _call(origSetDel, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype['delete'], origSetDel);\n      }\n      var mapSupportsSubclassing = supportsSubclassing(globals.Map, function (M) {\n        var m = new M([]);\n        // Firefox 32 is ok with the instantiating the subclass but will\n        // throw when the map is used.\n        m.set(42, 42);\n        return m instanceof M;\n      });\n      var mapFailsToSupportSubclassing = Object.setPrototypeOf && !mapSupportsSubclassing; // without Object.setPrototypeOf, subclassing is not possible\n      var mapRequiresNew = (function () {\n        try {\n          return !(globals.Map() instanceof globals.Map);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Map.length !== 0 || mapFailsToSupportSubclassing || !mapRequiresNew) {\n        var OrigMap = globals.Map;\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = OrigMap.prototype;\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var setSupportsSubclassing = supportsSubclassing(globals.Set, function (S) {\n        var s = new S([]);\n        s.add(42, 42);\n        return s instanceof S;\n      });\n      var setFailsToSupportSubclassing = Object.setPrototypeOf && !setSupportsSubclassing; // without Object.setPrototypeOf, subclassing is not possible\n      var setRequiresNew = (function () {\n        try {\n          return !(globals.Set() instanceof globals.Set);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Set.length !== 0 || setFailsToSupportSubclassing || !setRequiresNew) {\n        var OrigSet = globals.Set;\n        globals.Set = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          var s = new OrigSet();\n          if (arguments.length > 0) {\n            addIterableToSet(Set, s, arguments[0]);\n          }\n          delete s.constructor;\n          Object.setPrototypeOf(s, Set.prototype);\n          return s;\n        };\n        globals.Set.prototype = OrigSet.prototype;\n        defineProperty(globals.Set.prototype, 'constructor', globals.Set, true);\n        Value.preserveToString(globals.Set, OrigSet);\n      }\n      var newMap = new globals.Map();\n      var mapIterationThrowsStopIterator = !valueOrFalseIfThrows(function () {\n        return newMap.keys().next().done;\n      });\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (\n        typeof globals.Map.prototype.clear !== 'function' ||\n        new globals.Set().size !== 0 ||\n        newMap.size !== 0 ||\n        typeof globals.Map.prototype.keys !== 'function' ||\n        typeof globals.Set.prototype.keys !== 'function' ||\n        typeof globals.Map.prototype.forEach !== 'function' ||\n        typeof globals.Set.prototype.forEach !== 'function' ||\n        isCallableWithoutNew(globals.Map) ||\n        isCallableWithoutNew(globals.Set) ||\n        typeof newMap.keys().next !== 'function' || // Safari 8\n        mapIterationThrowsStopIterator || // Firefox 25\n        !mapSupportsSubclassing\n      ) {\n        defineProperties(globals, {\n          Map: collectionShims.Map,\n          Set: collectionShims.Set\n        }, true);\n      }\n\n      if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n        // Fixed in WebKit with https://bugs.webkit.org/show_bug.cgi?id=144190\n        defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n      }\n\n      // Shim incomplete iterator implementations.\n      addIterator(Object.getPrototypeOf((new globals.Map()).keys()));\n      addIterator(Object.getPrototypeOf((new globals.Set()).keys()));\n\n      if (functionsHaveNames && globals.Set.prototype.has.name !== 'has') {\n        // Microsoft Edge v0.11.10074.0 is missing a name on Set#has\n        var anonymousSetHas = globals.Set.prototype.has;\n        overrideNative(globals.Set.prototype, 'has', function has(key) {\n          return _call(anonymousSetHas, this, key);\n        });\n      }\n    }\n    defineProperties(globals, collectionShims);\n    addDefaultSpecies(globals.Map);\n    addDefaultSpecies(globals.Set);\n  }\n\n  var throwUnlessTargetIsObject = function throwUnlessTargetIsObject(target) {\n    if (!ES.TypeIsObject(target)) {\n      throw new TypeError('target must be an object');\n    }\n  };\n\n  // Some Reflect methods are basically the same as\n  // those on the Object global, except that a TypeError is thrown if\n  // target isn't an object. As well as returning a boolean indicating\n  // the success of the operation.\n  var ReflectShims = {\n    // Apply method in a functional form.\n    apply: function apply() {\n      return ES.Call(ES.Call, null, arguments);\n    },\n\n    // New operator in a functional form.\n    construct: function construct(constructor, args) {\n      if (!ES.IsConstructor(constructor)) {\n        throw new TypeError('First argument must be a constructor.');\n      }\n      var newTarget = arguments.length > 2 ? arguments[2] : constructor;\n      if (!ES.IsConstructor(newTarget)) {\n        throw new TypeError('new.target must be a constructor.');\n      }\n      return ES.Construct(constructor, args, newTarget, 'internal');\n    },\n\n    // When deleting a non-existent or configurable property,\n    // true is returned.\n    // When attempting to delete a non-configurable property,\n    // it will return false.\n    deleteProperty: function deleteProperty(target, key) {\n      throwUnlessTargetIsObject(target);\n      if (supportsDescriptors) {\n        var desc = Object.getOwnPropertyDescriptor(target, key);\n\n        if (desc && !desc.configurable) {\n          return false;\n        }\n      }\n\n      // Will return true.\n      return delete target[key];\n    },\n\n    has: function has(target, key) {\n      throwUnlessTargetIsObject(target);\n      return key in target;\n    }\n  };\n\n  if (Object.getOwnPropertyNames) {\n    Object.assign(ReflectShims, {\n      // Basically the result of calling the internal [[OwnPropertyKeys]].\n      // Concatenating propertyNames and propertySymbols should do the trick.\n      // This should continue to work together with a Symbol shim\n      // which overrides Object.getOwnPropertyNames and implements\n      // Object.getOwnPropertySymbols.\n      ownKeys: function ownKeys(target) {\n        throwUnlessTargetIsObject(target);\n        var keys = Object.getOwnPropertyNames(target);\n\n        if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n          _pushApply(keys, Object.getOwnPropertySymbols(target));\n        }\n\n        return keys;\n      }\n    });\n  }\n\n  var callAndCatchException = function ConvertExceptionToBoolean(func) {\n    return !throwsError(func);\n  };\n\n  if (Object.preventExtensions) {\n    Object.assign(ReflectShims, {\n      isExtensible: function isExtensible(target) {\n        throwUnlessTargetIsObject(target);\n        return Object.isExtensible(target);\n      },\n      preventExtensions: function preventExtensions(target) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          Object.preventExtensions(target);\n        });\n      }\n    });\n  }\n\n  if (supportsDescriptors) {\n    var internalGet = function get(target, key, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent === null) {\n          return void 0;\n        }\n\n        return internalGet(parent, key, receiver);\n      }\n\n      if ('value' in desc) {\n        return desc.value;\n      }\n\n      if (desc.get) {\n        return ES.Call(desc.get, receiver);\n      }\n\n      return void 0;\n    };\n\n    var internalSet = function set(target, key, value, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent !== null) {\n          return internalSet(parent, key, value, receiver);\n        }\n\n        desc = {\n          value: void 0,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        };\n      }\n\n      if ('value' in desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        if (!ES.TypeIsObject(receiver)) {\n          return false;\n        }\n\n        var existingDesc = Object.getOwnPropertyDescriptor(receiver, key);\n\n        if (existingDesc) {\n          return Reflect.defineProperty(receiver, key, {\n            value: value\n          });\n        } else {\n          return Reflect.defineProperty(receiver, key, {\n            value: value,\n            writable: true,\n            enumerable: true,\n            configurable: true\n          });\n        }\n      }\n\n      if (desc.set) {\n        _call(desc.set, receiver, value);\n        return true;\n      }\n\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      defineProperty: function defineProperty(target, propertyKey, attributes) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          Object.defineProperty(target, propertyKey, attributes);\n        });\n      },\n\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n        throwUnlessTargetIsObject(target);\n        return Object.getOwnPropertyDescriptor(target, propertyKey);\n      },\n\n      // Syntax in a functional form.\n      get: function get(target, key) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 2 ? arguments[2] : target;\n\n        return internalGet(target, key, receiver);\n      },\n\n      set: function set(target, key, value) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 3 ? arguments[3] : target;\n\n        return internalSet(target, key, value, receiver);\n      }\n    });\n  }\n\n  if (Object.getPrototypeOf) {\n    var objectDotGetPrototypeOf = Object.getPrototypeOf;\n    ReflectShims.getPrototypeOf = function getPrototypeOf(target) {\n      throwUnlessTargetIsObject(target);\n      return objectDotGetPrototypeOf(target);\n    };\n  }\n\n  if (Object.setPrototypeOf && ReflectShims.getPrototypeOf) {\n    var willCreateCircularPrototype = function (object, lastProto) {\n      var proto = lastProto;\n      while (proto) {\n        if (object === proto) {\n          return true;\n        }\n        proto = ReflectShims.getPrototypeOf(proto);\n      }\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      // Sets the prototype of the given object.\n      // Returns true on success, otherwise false.\n      setPrototypeOf: function setPrototypeOf(object, proto) {\n        throwUnlessTargetIsObject(object);\n        if (proto !== null && !ES.TypeIsObject(proto)) {\n          throw new TypeError('proto must be an object or null');\n        }\n\n        // If they already are the same, we're done.\n        if (proto === Reflect.getPrototypeOf(object)) {\n          return true;\n        }\n\n        // Cannot alter prototype if object not extensible.\n        if (Reflect.isExtensible && !Reflect.isExtensible(object)) {\n          return false;\n        }\n\n        // Ensure that we do not create a circular prototype chain.\n        if (willCreateCircularPrototype(object, proto)) {\n          return false;\n        }\n\n        Object.setPrototypeOf(object, proto);\n\n        return true;\n      }\n    });\n  }\n  var defineOrOverrideReflectProperty = function (key, shim) {\n    if (!ES.IsCallable(globals.Reflect[key])) {\n      defineProperty(globals.Reflect, key, shim);\n    } else {\n      var acceptsPrimitives = valueOrFalseIfThrows(function () {\n        globals.Reflect[key](1);\n        globals.Reflect[key](NaN);\n        globals.Reflect[key](true);\n        return true;\n      });\n      if (acceptsPrimitives) {\n        overrideNative(globals.Reflect, key, shim);\n      }\n    }\n  };\n  Object.keys(ReflectShims).forEach(function (key) {\n    defineOrOverrideReflectProperty(key, ReflectShims[key]);\n  });\n  var originalReflectGetProto = globals.Reflect.getPrototypeOf;\n  if (functionsHaveNames && originalReflectGetProto && originalReflectGetProto.name !== 'getPrototypeOf') {\n    overrideNative(globals.Reflect, 'getPrototypeOf', function getPrototypeOf(target) {\n      return _call(originalReflectGetProto, globals.Reflect, target);\n    });\n  }\n  if (globals.Reflect.setPrototypeOf) {\n    if (valueOrFalseIfThrows(function () {\n      globals.Reflect.setPrototypeOf(1, {});\n      return true;\n    })) {\n      overrideNative(globals.Reflect, 'setPrototypeOf', ReflectShims.setPrototypeOf);\n    }\n  }\n  if (globals.Reflect.defineProperty) {\n    if (!valueOrFalseIfThrows(function () {\n      var basic = !globals.Reflect.defineProperty(1, 'test', { value: 1 });\n      // \"extensible\" fails on Edge 0.12\n      var extensible = typeof Object.preventExtensions !== 'function' || !globals.Reflect.defineProperty(Object.preventExtensions({}), 'test', {});\n      return basic && extensible;\n    })) {\n      overrideNative(globals.Reflect, 'defineProperty', ReflectShims.defineProperty);\n    }\n  }\n  if (globals.Reflect.construct) {\n    if (!valueOrFalseIfThrows(function () {\n      var F = function F() {};\n      return globals.Reflect.construct(function () {}, [], F) instanceof F;\n    })) {\n      overrideNative(globals.Reflect, 'construct', ReflectShims.construct);\n    }\n  }\n\n  if (String(new Date(NaN)) !== 'Invalid Date') {\n    var dateToString = Date.prototype.toString;\n    var shimmedDateToString = function toString() {\n      var valueOf = +this;\n      if (valueOf !== valueOf) {\n        return 'Invalid Date';\n      }\n      return ES.Call(dateToString, this);\n    };\n    overrideNative(Date.prototype, 'toString', shimmedDateToString);\n  }\n\n  // Annex B HTML methods\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-additional-properties-of-the-string.prototype-object\n  var stringHTMLshims = {\n    anchor: function anchor(name) { return ES.CreateHTML(this, 'a', 'name', name); },\n    big: function big() { return ES.CreateHTML(this, 'big', '', ''); },\n    blink: function blink() { return ES.CreateHTML(this, 'blink', '', ''); },\n    bold: function bold() { return ES.CreateHTML(this, 'b', '', ''); },\n    fixed: function fixed() { return ES.CreateHTML(this, 'tt', '', ''); },\n    fontcolor: function fontcolor(color) { return ES.CreateHTML(this, 'font', 'color', color); },\n    fontsize: function fontsize(size) { return ES.CreateHTML(this, 'font', 'size', size); },\n    italics: function italics() { return ES.CreateHTML(this, 'i', '', ''); },\n    link: function link(url) { return ES.CreateHTML(this, 'a', 'href', url); },\n    small: function small() { return ES.CreateHTML(this, 'small', '', ''); },\n    strike: function strike() { return ES.CreateHTML(this, 'strike', '', ''); },\n    sub: function sub() { return ES.CreateHTML(this, 'sub', '', ''); },\n    sup: function sub() { return ES.CreateHTML(this, 'sup', '', ''); }\n  };\n  _forEach(Object.keys(stringHTMLshims), function (key) {\n    var method = String.prototype[key];\n    var shouldOverwrite = false;\n    if (ES.IsCallable(method)) {\n      var output = _call(method, '', ' \" ');\n      var quotesCount = _concat([], output.match(/\"/g)).length;\n      shouldOverwrite = output !== output.toLowerCase() || quotesCount > 2;\n    } else {\n      shouldOverwrite = true;\n    }\n    if (shouldOverwrite) {\n      overrideNative(String.prototype, key, stringHTMLshims[key]);\n    }\n  });\n\n  var JSONstringifiesSymbols = (function () {\n    // Microsoft Edge v0.12 stringifies Symbols incorrectly\n    if (!hasSymbols) { return false; } // Symbols are not supported\n    var stringify = typeof JSON === 'object' && typeof JSON.stringify === 'function' ? JSON.stringify : null;\n    if (!stringify) { return false; } // JSON.stringify is not supported\n    if (typeof stringify(Symbol()) !== 'undefined') { return true; } // Symbols should become `undefined`\n    if (stringify([Symbol()]) !== '[null]') { return true; } // Symbols in arrays should become `null`\n    var obj = { a: Symbol() };\n    obj[Symbol()] = true;\n    if (stringify(obj) !== '{}') { return true; } // Symbol-valued keys *and* Symbol-valued properties should be omitted\n    return false;\n  }());\n  var JSONstringifyAcceptsObjectSymbol = valueOrFalseIfThrows(function () {\n    // Chrome 45 throws on stringifying object symbols\n    if (!hasSymbols) { return true; } // Symbols are not supported\n    return JSON.stringify(Object(Symbol())) === '{}' && JSON.stringify([Object(Symbol())]) === '[{}]';\n  });\n  if (JSONstringifiesSymbols || !JSONstringifyAcceptsObjectSymbol) {\n    var origStringify = JSON.stringify;\n    overrideNative(JSON, 'stringify', function stringify(value) {\n      if (typeof value === 'symbol') { return; }\n      var replacer;\n      if (arguments.length > 1) {\n        replacer = arguments[1];\n      }\n      var args = [value];\n      if (!isArray(replacer)) {\n        var replaceFn = ES.IsCallable(replacer) ? replacer : null;\n        var wrappedReplacer = function (key, val) {\n          var parsedValue = replaceFn ? _call(replaceFn, this, key, val) : val;\n          if (typeof parsedValue !== 'symbol') {\n            if (Type.symbol(parsedValue)) {\n              return assignTo({})(parsedValue);\n            } else {\n              return parsedValue;\n            }\n          }\n        };\n        args.push(wrappedReplacer);\n      } else {\n        // create wrapped replacer that handles an array replacer?\n        args.push(replacer);\n      }\n      if (arguments.length > 2) {\n        args.push(arguments[2]);\n      }\n      return origStringify.apply(this, args);\n    });\n  }\n\n  return globals;\n}));\n"]}