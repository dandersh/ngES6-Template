{"version":3,"sources":["../../../../../../../node_modules/karma-es6-shim/node_modules/es5-shim/tests/spec/s-function.js"],"names":[],"mappings":"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","file":"s-function.js","sourcesContent":["/* global describe, it, expect, beforeEach */\n\ndescribe('Function', function () {\n    'use strict';\n\n    describe('#apply()', function () {\n        it('works with arraylike objects', function () {\n            var arrayLike = { length: 4, 0: 1, 2: 4, 3: true };\n            var expectedArray = [1, undefined, 4, true];\n            var actualArray = (function () {\n                return Array.prototype.slice.apply(arguments);\n            }.apply(null, arrayLike));\n            expect(actualArray).toEqual(expectedArray);\n        });\n    });\n\n    describe('#bind()', function () {\n        var actual;\n\n        var testSubject = {\n            push: function (o) {\n                this.a.push(o);\n            }\n        };\n\n        var func = function func() {\n            Array.prototype.forEach.call(arguments, function (a) {\n                this.push(a);\n            }, this);\n            return this;\n        };\n\n        beforeEach(function () {\n            actual = [];\n            testSubject.a = [];\n        });\n\n        it('binds properly without a context', function () {\n            var context;\n            testSubject.func = function () {\n                context = this;\n            }.bind();\n            testSubject.func();\n            expect(context).toBe(function () { return this; }.call());\n        });\n        it('binds properly without a context, and still supplies bound arguments', function () {\n            var a, context;\n            testSubject.func = function () {\n                a = Array.prototype.slice.call(arguments);\n                context = this;\n            }.bind(undefined, 1, 2, 3);\n            testSubject.func(1, 2, 3);\n            expect(a).toEqual([1, 2, 3, 1, 2, 3]);\n            expect(context).toBe(function () { return this; }.call());\n        });\n        it('binds a context properly', function () {\n            testSubject.func = func.bind(actual);\n            testSubject.func(1, 2, 3);\n            expect(actual).toEqual([1, 2, 3]);\n            expect(testSubject.a).toEqual([]);\n        });\n        it('binds a context and supplies bound arguments', function () {\n            testSubject.func = func.bind(actual, 1, 2, 3);\n            testSubject.func(4, 5, 6);\n            expect(actual).toEqual([1, 2, 3, 4, 5, 6]);\n            expect(testSubject.a).toEqual([]);\n        });\n\n        it('returns properly without binding a context', function () {\n            testSubject.func = function () {\n                return this;\n            }.bind();\n            var context = testSubject.func();\n            expect(context).toBe(function () { return this; }.call());\n        });\n        it('returns properly without binding a context, and still supplies bound arguments', function () {\n            var context;\n            testSubject.func = function () {\n                context = this;\n                return Array.prototype.slice.call(arguments);\n            }.bind(undefined, 1, 2, 3);\n            actual = testSubject.func(1, 2, 3);\n            expect(context).toBe(function () { return this; }.call());\n            expect(actual).toEqual([1, 2, 3, 1, 2, 3]);\n        });\n        it('returns properly while binding a context properly', function () {\n            var ret;\n            testSubject.func = func.bind(actual);\n            ret = testSubject.func(1, 2, 3);\n            expect(ret).toBe(actual);\n            expect(ret).not.toBe(testSubject);\n        });\n        it('returns properly while binding a context and supplies bound arguments', function () {\n            var ret;\n            testSubject.func = func.bind(actual, 1, 2, 3);\n            ret = testSubject.func(4, 5, 6);\n            expect(ret).toBe(actual);\n            expect(ret).not.toBe(testSubject);\n        });\n        it('has the new instance\\'s context as a constructor', function () {\n            var actualContext;\n            var expectedContext = { foo: 'bar' };\n            testSubject.Func = function () {\n                actualContext = this;\n            }.bind(expectedContext);\n            var result = new testSubject.Func();\n            expect(result).toBeTruthy();\n            expect(actualContext).not.toBe(expectedContext);\n        });\n        it('passes the correct arguments as a constructor', function () {\n            var expected = { name: 'Correct' };\n            testSubject.Func = function (arg) {\n                expect(Object.prototype.hasOwnProperty.call(this, 'name')).toBe(false);\n                return arg;\n            }.bind({ name: 'Incorrect' });\n            var ret = new testSubject.Func(expected);\n            expect(ret).toBe(expected);\n        });\n        it('returns the return value of the bound function when called as a constructor', function () {\n            var oracle = [1, 2, 3];\n            var Subject = function () {\n                expect(this).not.toBe(oracle);\n                return oracle;\n            }.bind(null);\n            var result = new Subject();\n            expect(result).toBe(oracle);\n        });\n\n        it('returns the correct value if constructor returns primitive', function () {\n            var Subject = function (oracle) {\n                expect(this).not.toBe(oracle);\n                return oracle;\n            }.bind(null);\n\n            var primitives = ['asdf', null, true, 1];\n            for (var i = 0; i < primitives.length; ++i) {\n                expect(new Subject(primitives[i])).not.toBe(primitives[i]);\n            }\n\n            var objects = [[1, 2, 3], {}, function () {}];\n            for (var j = 0; j < objects.length; ++j) {\n                expect(new Subject(objects[j])).toBe(objects[j]);\n            }\n        });\n        it('returns the value that instance of original \"class\" when called as a constructor', function () {\n            var ClassA = function (x) {\n                this.name = x || 'A';\n            };\n            var ClassB = ClassA.bind(null, 'B');\n\n            var result = new ClassB();\n            expect(result instanceof ClassA).toBe(true);\n            expect(result instanceof ClassB).toBe(true);\n        });\n        it('sets a correct length without thisArg', function () {\n            var Subject = function (a, b, c) { return a + b + c; }.bind();\n            expect(Subject.length).toBe(3);\n        });\n        it('sets a correct length with thisArg', function () {\n            var Subject = function (a, b, c) { return a + b + c + this.d; }.bind({ d: 1 });\n            expect(Subject.length).toBe(3);\n        });\n        it('sets a correct length with thisArg and first argument', function () {\n            var Subject = function (a, b, c) { return a + b + c + this.d; }.bind({ d: 1 }, 1);\n            expect(Subject.length).toBe(2);\n        });\n        it('sets a correct length without thisArg and first argument', function () {\n            var Subject = function (a, b, c) { return a + b + c; }.bind(undefined, 1);\n            expect(Subject.length).toBe(2);\n        });\n        it('sets a correct length without thisArg and too many argument', function () {\n            var Subject = function (a, b, c) { return a + b + c; }.bind(undefined, 1, 2, 3, 4);\n            expect(Subject.length).toBe(0);\n        });\n    });\n});\n"]}