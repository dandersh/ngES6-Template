{"version":3,"sources":["../../../../../../../node_modules/karma-es6-shim/node_modules/es5-shim/tests/lib/jasmine.js"],"names":[],"mappings":"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","file":"jasmine.js","sourcesContent":["var isCommonJS = typeof window == \"undefined\" && typeof exports == \"object\";\n\n/**\n * Top level namespace for Jasmine, a lightweight JavaScript BDD/spec/testing framework.\n *\n * @namespace\n */\nvar jasmine = {};\nif (isCommonJS) exports.jasmine = jasmine;\n/**\n * @private\n */\njasmine.unimplementedMethod_ = function() {\n  throw new Error(\"unimplemented method\");\n};\n\n/**\n * Use <code>jasmine.undefined</code> instead of <code>undefined</code>, since <code>undefined</code> is just\n * a plain old variable and may be redefined by somebody else.\n *\n * @private\n */\njasmine.undefined = jasmine.___undefined___;\n\n/**\n * Show diagnostic messages in the console if set to true\n *\n */\njasmine.VERBOSE = false;\n\n/**\n * Default interval in milliseconds for event loop yields (e.g. to allow network activity or to refresh the screen with the HTML-based runner). Small values here may result in slow test running. Zero means no updates until all tests have completed.\n *\n */\njasmine.DEFAULT_UPDATE_INTERVAL = 250;\n\n/**\n * Maximum levels of nesting that will be included when an object is pretty-printed\n */\njasmine.MAX_PRETTY_PRINT_DEPTH = 40;\n\n/**\n * Default timeout interval in milliseconds for waitsFor() blocks.\n */\njasmine.DEFAULT_TIMEOUT_INTERVAL = 5000;\n\n/**\n * By default exceptions thrown in the context of a test are caught by jasmine so that it can run the remaining tests in the suite.\n * Set to false to let the exception bubble up in the browser.\n *\n */\njasmine.CATCH_EXCEPTIONS = true;\n\njasmine.getGlobal = function() {\n  function getGlobal() {\n    return this;\n  }\n\n  return getGlobal();\n};\n\n/**\n * Allows for bound functions to be compared.  Internal use only.\n *\n * @ignore\n * @private\n * @param base {Object} bound 'this' for the function\n * @param name {Function} function to find\n */\njasmine.bindOriginal_ = function(base, name) {\n  var original = base[name];\n  if (original.apply) {\n    return function() {\n      return original.apply(base, arguments);\n    };\n  } else {\n    // IE support\n    return jasmine.getGlobal()[name];\n  }\n};\n\njasmine.setTimeout = jasmine.bindOriginal_(jasmine.getGlobal(), 'setTimeout');\njasmine.clearTimeout = jasmine.bindOriginal_(jasmine.getGlobal(), 'clearTimeout');\njasmine.setInterval = jasmine.bindOriginal_(jasmine.getGlobal(), 'setInterval');\njasmine.clearInterval = jasmine.bindOriginal_(jasmine.getGlobal(), 'clearInterval');\n\njasmine.MessageResult = function(values) {\n  this.type = 'log';\n  this.values = values;\n  this.trace = new Error(); // todo: test better\n};\n\njasmine.MessageResult.prototype.toString = function() {\n  var text = \"\";\n  for (var i = 0; i < this.values.length; i++) {\n    if (i > 0) text += \" \";\n    if (jasmine.isString_(this.values[i])) {\n      text += this.values[i];\n    } else {\n      text += jasmine.pp(this.values[i]);\n    }\n  }\n  return text;\n};\n\njasmine.ExpectationResult = function(params) {\n  this.type = 'expect';\n  this.matcherName = params.matcherName;\n  this.passed_ = params.passed;\n  this.expected = params.expected;\n  this.actual = params.actual;\n  this.message = this.passed_ ? 'Passed.' : params.message;\n\n  var trace = (params.trace || new Error(this.message));\n  this.trace = this.passed_ ? '' : trace;\n};\n\njasmine.ExpectationResult.prototype.toString = function () {\n  return this.message;\n};\n\njasmine.ExpectationResult.prototype.passed = function () {\n  return this.passed_;\n};\n\n/**\n * Getter for the Jasmine environment. Ensures one gets created\n */\njasmine.getEnv = function() {\n  var env = jasmine.currentEnv_ = jasmine.currentEnv_ || new jasmine.Env();\n  return env;\n};\n\n/**\n * @ignore\n * @private\n * @param value\n * @returns {Boolean}\n */\njasmine.isArray_ = function(value) {\n  return jasmine.isA_(\"Array\", value);\n};\n\n/**\n * @ignore\n * @private\n * @param value\n * @returns {Boolean}\n */\njasmine.isString_ = function(value) {\n  return jasmine.isA_(\"String\", value);\n};\n\n/**\n * @ignore\n * @private\n * @param value\n * @returns {Boolean}\n */\njasmine.isNumber_ = function(value) {\n  return jasmine.isA_(\"Number\", value);\n};\n\n/**\n * @ignore\n * @private\n * @param {String} typeName\n * @param value\n * @returns {Boolean}\n */\njasmine.isA_ = function(typeName, value) {\n  return Object.prototype.toString.apply(value) === '[object ' + typeName + ']';\n};\n\n/**\n * Pretty printer for expecations.  Takes any object and turns it into a human-readable string.\n *\n * @param value {Object} an object to be outputted\n * @returns {String}\n */\njasmine.pp = function(value) {\n  var stringPrettyPrinter = new jasmine.StringPrettyPrinter();\n  stringPrettyPrinter.format(value);\n  return stringPrettyPrinter.string;\n};\n\n/**\n * Returns true if the object is a DOM Node.\n *\n * @param {Object} obj object to check\n * @returns {Boolean}\n */\njasmine.isDomNode = function(obj) {\n  return obj.nodeType > 0;\n};\n\n/**\n * Returns a matchable 'generic' object of the class type.  For use in expecations of type when values don't matter.\n *\n * @example\n * // don't care about which function is passed in, as long as it's a function\n * expect(mySpy).toHaveBeenCalledWith(jasmine.any(Function));\n *\n * @param {Class} clazz\n * @returns matchable object of the type clazz\n */\njasmine.any = function(clazz) {\n  return new jasmine.Matchers.Any(clazz);\n};\n\n/**\n * Returns a matchable subset of a JSON object. For use in expectations when you don't care about all of the\n * attributes on the object.\n *\n * @example\n * // don't care about any other attributes than foo.\n * expect(mySpy).toHaveBeenCalledWith(jasmine.objectContaining({foo: \"bar\"});\n *\n * @param sample {Object} sample\n * @returns matchable object for the sample\n */\njasmine.objectContaining = function (sample) {\n    return new jasmine.Matchers.ObjectContaining(sample);\n};\n\n/**\n * Jasmine Spies are test doubles that can act as stubs, spies, fakes or when used in an expecation, mocks.\n *\n * Spies should be created in test setup, before expectations.  They can then be checked, using the standard Jasmine\n * expectation syntax. Spies can be checked if they were called or not and what the calling params were.\n *\n * A Spy has the following fields: wasCalled, callCount, mostRecentCall, and argsForCall (see docs).\n *\n * Spies are torn down at the end of every spec.\n *\n * Note: Do <b>not</b> call new jasmine.Spy() directly - a spy must be created using spyOn, jasmine.createSpy or jasmine.createSpyObj.\n *\n * @example\n * // a stub\n * var myStub = jasmine.createSpy('myStub');  // can be used anywhere\n *\n * // spy example\n * var foo = {\n *   not: function(bool) { return !bool; }\n * }\n *\n * // actual foo.not will not be called, execution stops\n * spyOn(foo, 'not');\n\n // foo.not spied upon, execution will continue to implementation\n * spyOn(foo, 'not').andCallThrough();\n *\n * // fake example\n * var foo = {\n *   not: function(bool) { return !bool; }\n * }\n *\n * // foo.not(val) will return val\n * spyOn(foo, 'not').andCallFake(function(value) {return value;});\n *\n * // mock example\n * foo.not(7 == 7);\n * expect(foo.not).toHaveBeenCalled();\n * expect(foo.not).toHaveBeenCalledWith(true);\n *\n * @constructor\n * @see spyOn, jasmine.createSpy, jasmine.createSpyObj\n * @param {String} name\n */\njasmine.Spy = function(name) {\n  /**\n   * The name of the spy, if provided.\n   */\n  this.identity = name || 'unknown';\n  /**\n   *  Is this Object a spy?\n   */\n  this.isSpy = true;\n  /**\n   * The actual function this spy stubs.\n   */\n  this.plan = function() {\n  };\n  /**\n   * Tracking of the most recent call to the spy.\n   * @example\n   * var mySpy = jasmine.createSpy('foo');\n   * mySpy(1, 2);\n   * mySpy.mostRecentCall.args = [1, 2];\n   */\n  this.mostRecentCall = {};\n\n  /**\n   * Holds arguments for each call to the spy, indexed by call count\n   * @example\n   * var mySpy = jasmine.createSpy('foo');\n   * mySpy(1, 2);\n   * mySpy(7, 8);\n   * mySpy.mostRecentCall.args = [7, 8];\n   * mySpy.argsForCall[0] = [1, 2];\n   * mySpy.argsForCall[1] = [7, 8];\n   */\n  this.argsForCall = [];\n  this.calls = [];\n};\n\n/**\n * Tells a spy to call through to the actual implemenatation.\n *\n * @example\n * var foo = {\n *   bar: function() { // do some stuff }\n * }\n *\n * // defining a spy on an existing property: foo.bar\n * spyOn(foo, 'bar').andCallThrough();\n */\njasmine.Spy.prototype.andCallThrough = function() {\n  this.plan = this.originalValue;\n  return this;\n};\n\n/**\n * For setting the return value of a spy.\n *\n * @example\n * // defining a spy from scratch: foo() returns 'baz'\n * var foo = jasmine.createSpy('spy on foo').andReturn('baz');\n *\n * // defining a spy on an existing property: foo.bar() returns 'baz'\n * spyOn(foo, 'bar').andReturn('baz');\n *\n * @param {Object} value\n */\njasmine.Spy.prototype.andReturn = function(value) {\n  this.plan = function() {\n    return value;\n  };\n  return this;\n};\n\n/**\n * For throwing an exception when a spy is called.\n *\n * @example\n * // defining a spy from scratch: foo() throws an exception w/ message 'ouch'\n * var foo = jasmine.createSpy('spy on foo').andThrow('baz');\n *\n * // defining a spy on an existing property: foo.bar() throws an exception w/ message 'ouch'\n * spyOn(foo, 'bar').andThrow('baz');\n *\n * @param {String} exceptionMsg\n */\njasmine.Spy.prototype.andThrow = function(exceptionMsg) {\n  this.plan = function() {\n    throw exceptionMsg;\n  };\n  return this;\n};\n\n/**\n * Calls an alternate implementation when a spy is called.\n *\n * @example\n * var baz = function() {\n *   // do some stuff, return something\n * }\n * // defining a spy from scratch: foo() calls the function baz\n * var foo = jasmine.createSpy('spy on foo').andCall(baz);\n *\n * // defining a spy on an existing property: foo.bar() calls an anonymnous function\n * spyOn(foo, 'bar').andCall(function() { return 'baz';} );\n *\n * @param {Function} fakeFunc\n */\njasmine.Spy.prototype.andCallFake = function(fakeFunc) {\n  this.plan = fakeFunc;\n  return this;\n};\n\n/**\n * Resets all of a spy's the tracking variables so that it can be used again.\n *\n * @example\n * spyOn(foo, 'bar');\n *\n * foo.bar();\n *\n * expect(foo.bar.callCount).toEqual(1);\n *\n * foo.bar.reset();\n *\n * expect(foo.bar.callCount).toEqual(0);\n */\njasmine.Spy.prototype.reset = function() {\n  this.wasCalled = false;\n  this.callCount = 0;\n  this.argsForCall = [];\n  this.calls = [];\n  this.mostRecentCall = {};\n};\n\njasmine.createSpy = function(name) {\n\n  var spyObj = function() {\n    spyObj.wasCalled = true;\n    spyObj.callCount++;\n    var args = jasmine.util.argsToArray(arguments);\n    spyObj.mostRecentCall.object = this;\n    spyObj.mostRecentCall.args = args;\n    spyObj.argsForCall.push(args);\n    spyObj.calls.push({object: this, args: args});\n    return spyObj.plan.apply(this, arguments);\n  };\n\n  var spy = new jasmine.Spy(name);\n\n  for (var prop in spy) {\n    spyObj[prop] = spy[prop];\n  }\n\n  spyObj.reset();\n\n  return spyObj;\n};\n\n/**\n * Determines whether an object is a spy.\n *\n * @param {jasmine.Spy|Object} putativeSpy\n * @returns {Boolean}\n */\njasmine.isSpy = function(putativeSpy) {\n  return putativeSpy && putativeSpy.isSpy;\n};\n\n/**\n * Creates a more complicated spy: an Object that has every property a function that is a spy.  Used for stubbing something\n * large in one call.\n *\n * @param {String} baseName name of spy class\n * @param {Array} methodNames array of names of methods to make spies\n */\njasmine.createSpyObj = function(baseName, methodNames) {\n  if (!jasmine.isArray_(methodNames) || methodNames.length === 0) {\n    throw new Error('createSpyObj requires a non-empty array of method names to create spies for');\n  }\n  var obj = {};\n  for (var i = 0; i < methodNames.length; i++) {\n    obj[methodNames[i]] = jasmine.createSpy(baseName + '.' + methodNames[i]);\n  }\n  return obj;\n};\n\n/**\n * All parameters are pretty-printed and concatenated together, then written to the current spec's output.\n *\n * Be careful not to leave calls to <code>jasmine.log</code> in production code.\n */\njasmine.log = function() {\n  var spec = jasmine.getEnv().currentSpec;\n  spec.log.apply(spec, arguments);\n};\n\n/**\n * Function that installs a spy on an existing object's method name.  Used within a Spec to create a spy.\n *\n * @example\n * // spy example\n * var foo = {\n *   not: function(bool) { return !bool; }\n * }\n * spyOn(foo, 'not'); // actual foo.not will not be called, execution stops\n *\n * @see jasmine.createSpy\n * @param obj\n * @param methodName\n * @return {jasmine.Spy} a Jasmine spy that can be chained with all spy methods\n */\nvar spyOn = function(obj, methodName) {\n  return jasmine.getEnv().currentSpec.spyOn(obj, methodName);\n};\nif (isCommonJS) exports.spyOn = spyOn;\n\n/**\n * Creates a Jasmine spec that will be added to the current suite.\n *\n * // TODO: pending tests\n *\n * @example\n * it('should be true', function() {\n *   expect(true).toEqual(true);\n * });\n *\n * @param {String} desc description of this specification\n * @param {Function} func defines the preconditions and expectations of the spec\n */\nvar it = function(desc, func) {\n  return jasmine.getEnv().it(desc, func);\n};\nif (isCommonJS) exports.it = it;\n\n/**\n * Creates a <em>disabled</em> Jasmine spec.\n *\n * A convenience method that allows existing specs to be disabled temporarily during development.\n *\n * @param {String} desc description of this specification\n * @param {Function} func defines the preconditions and expectations of the spec\n */\nvar xit = function(desc, func) {\n  return jasmine.getEnv().xit(desc, func);\n};\nif (isCommonJS) exports.xit = xit;\n\n/**\n * Starts a chain for a Jasmine expectation.\n *\n * It is passed an Object that is the actual value and should chain to one of the many\n * jasmine.Matchers functions.\n *\n * @param {Object} actual Actual value to test against and expected value\n * @return {jasmine.Matchers}\n */\nvar expect = function(actual) {\n  return jasmine.getEnv().currentSpec.expect(actual);\n};\nif (isCommonJS) exports.expect = expect;\n\n/**\n * Defines part of a jasmine spec.  Used in cominbination with waits or waitsFor in asynchrnous specs.\n *\n * @param {Function} func Function that defines part of a jasmine spec.\n */\nvar runs = function(func) {\n  jasmine.getEnv().currentSpec.runs(func);\n};\nif (isCommonJS) exports.runs = runs;\n\n/**\n * Waits a fixed time period before moving to the next block.\n *\n * @deprecated Use waitsFor() instead\n * @param {Number} timeout milliseconds to wait\n */\nvar waits = function(timeout) {\n  jasmine.getEnv().currentSpec.waits(timeout);\n};\nif (isCommonJS) exports.waits = waits;\n\n/**\n * Waits for the latchFunction to return true before proceeding to the next block.\n *\n * @param {Function} latchFunction\n * @param {String} optional_timeoutMessage\n * @param {Number} optional_timeout\n */\nvar waitsFor = function(latchFunction, optional_timeoutMessage, optional_timeout) {\n  jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec, arguments);\n};\nif (isCommonJS) exports.waitsFor = waitsFor;\n\n/**\n * A function that is called before each spec in a suite.\n *\n * Used for spec setup, including validating assumptions.\n *\n * @param {Function} beforeEachFunction\n */\nvar beforeEach = function(beforeEachFunction) {\n  jasmine.getEnv().beforeEach(beforeEachFunction);\n};\nif (isCommonJS) exports.beforeEach = beforeEach;\n\n/**\n * A function that is called after each spec in a suite.\n *\n * Used for restoring any state that is hijacked during spec execution.\n *\n * @param {Function} afterEachFunction\n */\nvar afterEach = function(afterEachFunction) {\n  jasmine.getEnv().afterEach(afterEachFunction);\n};\nif (isCommonJS) exports.afterEach = afterEach;\n\n/**\n * Defines a suite of specifications.\n *\n * Stores the description and all defined specs in the Jasmine environment as one suite of specs. Variables declared\n * are accessible by calls to beforeEach, it, and afterEach. Describe blocks can be nested, allowing for specialization\n * of setup in some tests.\n *\n * @example\n * // TODO: a simple suite\n *\n * // TODO: a simple suite with a nested describe block\n *\n * @param {String} description A string, usually the class under test.\n * @param {Function} specDefinitions function that defines several specs.\n */\nvar describe = function(description, specDefinitions) {\n  return jasmine.getEnv().describe(description, specDefinitions);\n};\nif (isCommonJS) exports.describe = describe;\n\n/**\n * Disables a suite of specifications.  Used to disable some suites in a file, or files, temporarily during development.\n *\n * @param {String} description A string, usually the class under test.\n * @param {Function} specDefinitions function that defines several specs.\n */\nvar xdescribe = function(description, specDefinitions) {\n  return jasmine.getEnv().xdescribe(description, specDefinitions);\n};\nif (isCommonJS) exports.xdescribe = xdescribe;\n\n\n// Provide the XMLHttpRequest class for IE 5.x-6.x:\njasmine.XmlHttpRequest = (typeof XMLHttpRequest == \"undefined\") ? function() {\n  function tryIt(f) {\n    try {\n      return f();\n    } catch(e) {\n    }\n    return null;\n  }\n\n  var xhr = tryIt(function() {\n    return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n  }) ||\n    tryIt(function() {\n      return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n    }) ||\n    tryIt(function() {\n      return new ActiveXObject(\"Msxml2.XMLHTTP\");\n    }) ||\n    tryIt(function() {\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    });\n\n  if (!xhr) throw new Error(\"This browser does not support XMLHttpRequest.\");\n\n  return xhr;\n} : XMLHttpRequest;\n/**\n * @namespace\n */\njasmine.util = {};\n\n/**\n * Declare that a child class inherit it's prototype from the parent class.\n *\n * @private\n * @param {Function} childClass\n * @param {Function} parentClass\n */\njasmine.util.inherit = function(childClass, parentClass) {\n  /**\n   * @private\n   */\n  var subclass = function() {\n  };\n  subclass.prototype = parentClass.prototype;\n  childClass.prototype = new subclass();\n};\n\njasmine.util.formatException = function(e) {\n  var lineNumber;\n  if (e.line) {\n    lineNumber = e.line;\n  }\n  else if (e.lineNumber) {\n    lineNumber = e.lineNumber;\n  }\n\n  var file;\n\n  if (e.sourceURL) {\n    file = e.sourceURL;\n  }\n  else if (e.fileName) {\n    file = e.fileName;\n  }\n\n  var message = (e.name && e.message) ? (e.name + ': ' + e.message) : e.toString();\n\n  if (file && lineNumber) {\n    message += ' in ' + file + ' (line ' + lineNumber + ')';\n  }\n\n  return message;\n};\n\njasmine.util.htmlEscape = function(str) {\n  if (!str) return str;\n  return str.replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\njasmine.util.argsToArray = function(args) {\n  var arrayOfArgs = [];\n  for (var i = 0; i < args.length; i++) arrayOfArgs.push(args[i]);\n  return arrayOfArgs;\n};\n\njasmine.util.extend = function(destination, source) {\n  for (var property in source) destination[property] = source[property];\n  return destination;\n};\n\n/**\n * Environment for Jasmine\n *\n * @constructor\n */\njasmine.Env = function() {\n  this.currentSpec = null;\n  this.currentSuite = null;\n  this.currentRunner_ = new jasmine.Runner(this);\n\n  this.reporter = new jasmine.MultiReporter();\n\n  this.updateInterval = jasmine.DEFAULT_UPDATE_INTERVAL;\n  this.defaultTimeoutInterval = jasmine.DEFAULT_TIMEOUT_INTERVAL;\n  this.lastUpdate = 0;\n  this.specFilter = function() {\n    return true;\n  };\n\n  this.nextSpecId_ = 0;\n  this.nextSuiteId_ = 0;\n  this.equalityTesters_ = [];\n\n  // wrap matchers\n  this.matchersClass = function() {\n    jasmine.Matchers.apply(this, arguments);\n  };\n  jasmine.util.inherit(this.matchersClass, jasmine.Matchers);\n\n  jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype, this.matchersClass);\n};\n\n\njasmine.Env.prototype.setTimeout = jasmine.setTimeout;\njasmine.Env.prototype.clearTimeout = jasmine.clearTimeout;\njasmine.Env.prototype.setInterval = jasmine.setInterval;\njasmine.Env.prototype.clearInterval = jasmine.clearInterval;\n\n/**\n * @returns an object containing jasmine version build info, if set.\n */\njasmine.Env.prototype.version = function () {\n  if (jasmine.version_) {\n    return jasmine.version_;\n  } else {\n    throw new Error('Version not set');\n  }\n};\n\n/**\n * @returns string containing jasmine version build info, if set.\n */\njasmine.Env.prototype.versionString = function() {\n  if (!jasmine.version_) {\n    return \"version unknown\";\n  }\n\n  var version = this.version();\n  var versionString = version.major + \".\" + version.minor + \".\" + version.build;\n  if (version.release_candidate) {\n    versionString += \".rc\" + version.release_candidate;\n  }\n  versionString += \" revision \" + version.revision;\n  return versionString;\n};\n\n/**\n * @returns a sequential integer starting at 0\n */\njasmine.Env.prototype.nextSpecId = function () {\n  return this.nextSpecId_++;\n};\n\n/**\n * @returns a sequential integer starting at 0\n */\njasmine.Env.prototype.nextSuiteId = function () {\n  return this.nextSuiteId_++;\n};\n\n/**\n * Register a reporter to receive status updates from Jasmine.\n * @param {jasmine.Reporter} reporter An object which will receive status updates.\n */\njasmine.Env.prototype.addReporter = function(reporter) {\n  this.reporter.addReporter(reporter);\n};\n\njasmine.Env.prototype.execute = function() {\n  this.currentRunner_.execute();\n};\n\njasmine.Env.prototype.describe = function(description, specDefinitions) {\n  var suite = new jasmine.Suite(this, description, specDefinitions, this.currentSuite);\n\n  var parentSuite = this.currentSuite;\n  if (parentSuite) {\n    parentSuite.add(suite);\n  } else {\n    this.currentRunner_.add(suite);\n  }\n\n  this.currentSuite = suite;\n\n  var declarationError = null;\n  try {\n    specDefinitions.call(suite);\n  } catch(e) {\n    declarationError = e;\n  }\n\n  if (declarationError) {\n    this.it(\"encountered a declaration exception\", function() {\n      throw declarationError;\n    });\n  }\n\n  this.currentSuite = parentSuite;\n\n  return suite;\n};\n\njasmine.Env.prototype.beforeEach = function(beforeEachFunction) {\n  if (this.currentSuite) {\n    this.currentSuite.beforeEach(beforeEachFunction);\n  } else {\n    this.currentRunner_.beforeEach(beforeEachFunction);\n  }\n};\n\njasmine.Env.prototype.currentRunner = function () {\n  return this.currentRunner_;\n};\n\njasmine.Env.prototype.afterEach = function(afterEachFunction) {\n  if (this.currentSuite) {\n    this.currentSuite.afterEach(afterEachFunction);\n  } else {\n    this.currentRunner_.afterEach(afterEachFunction);\n  }\n\n};\n\njasmine.Env.prototype.xdescribe = function(desc, specDefinitions) {\n  return {\n    execute: function() {\n    }\n  };\n};\n\njasmine.Env.prototype.it = function(description, func) {\n  var spec = new jasmine.Spec(this, this.currentSuite, description);\n  this.currentSuite.add(spec);\n  this.currentSpec = spec;\n\n  if (func) {\n    spec.runs(func);\n  }\n\n  return spec;\n};\n\njasmine.Env.prototype.xit = function(desc, func) {\n  return {\n    id: this.nextSpecId(),\n    runs: function() {\n    }\n  };\n};\n\njasmine.Env.prototype.compareRegExps_ = function(a, b, mismatchKeys, mismatchValues) {\n  if (a.source != b.source)\n    mismatchValues.push(\"expected pattern /\" + b.source + \"/ is not equal to the pattern /\" + a.source + \"/\");\n\n  if (a.ignoreCase != b.ignoreCase)\n    mismatchValues.push(\"expected modifier i was\" + (b.ignoreCase ? \" \" : \" not \") + \"set and does not equal the origin modifier\");\n\n  if (a.global != b.global)\n    mismatchValues.push(\"expected modifier g was\" + (b.global ? \" \" : \" not \") + \"set and does not equal the origin modifier\");\n\n  if (a.multiline != b.multiline)\n    mismatchValues.push(\"expected modifier m was\" + (b.multiline ? \" \" : \" not \") + \"set and does not equal the origin modifier\");\n\n  if (a.sticky != b.sticky)\n    mismatchValues.push(\"expected modifier y was\" + (b.sticky ? \" \" : \" not \") + \"set and does not equal the origin modifier\");\n\n  return (mismatchValues.length === 0);\n};\n\njasmine.Env.prototype.compareObjects_ = function(a, b, mismatchKeys, mismatchValues) {\n  if (a.__Jasmine_been_here_before__ === b && b.__Jasmine_been_here_before__ === a) {\n    return true;\n  }\n\n  a.__Jasmine_been_here_before__ = b;\n  b.__Jasmine_been_here_before__ = a;\n\n  var hasKey = function(obj, keyName) {\n    return obj !== null && obj[keyName] !== jasmine.undefined;\n  };\n\n  for (var property in b) {\n    if (!hasKey(a, property) && hasKey(b, property)) {\n      mismatchKeys.push(\"expected has key '\" + property + \"', but missing from actual.\");\n    }\n  }\n  for (property in a) {\n    if (!hasKey(b, property) && hasKey(a, property)) {\n      mismatchKeys.push(\"expected missing key '\" + property + \"', but present in actual.\");\n    }\n  }\n  for (property in b) {\n    if (property == '__Jasmine_been_here_before__') continue;\n    if (!this.equals_(a[property], b[property], mismatchKeys, mismatchValues)) {\n      mismatchValues.push(\"'\" + property + \"' was '\" + (b[property] ? jasmine.util.htmlEscape(b[property].toString()) : b[property]) + \"' in expected, but was '\" + (a[property] ? jasmine.util.htmlEscape(a[property].toString()) : a[property]) + \"' in actual.\");\n    }\n  }\n\n  if (jasmine.isArray_(a) && jasmine.isArray_(b) && a.length != b.length) {\n    mismatchValues.push(\"arrays were not the same length\");\n  }\n\n  delete a.__Jasmine_been_here_before__;\n  delete b.__Jasmine_been_here_before__;\n  return (mismatchKeys.length === 0 && mismatchValues.length === 0);\n};\n\njasmine.Env.prototype.equals_ = function(a, b, mismatchKeys, mismatchValues) {\n  mismatchKeys = mismatchKeys || [];\n  mismatchValues = mismatchValues || [];\n\n  for (var i = 0; i < this.equalityTesters_.length; i++) {\n    var equalityTester = this.equalityTesters_[i];\n    var result = equalityTester(a, b, this, mismatchKeys, mismatchValues);\n    if (result !== jasmine.undefined) return result;\n  }\n\n  if (a === b) return true;\n\n  if (a === jasmine.undefined || a === null || b === jasmine.undefined || b === null) {\n    return (a == jasmine.undefined && b == jasmine.undefined);\n  }\n\n  if (jasmine.isDomNode(a) && jasmine.isDomNode(b)) {\n    return a === b;\n  }\n\n  if (a instanceof Date && b instanceof Date) {\n    return a.getTime() == b.getTime();\n  }\n\n  if (a.jasmineMatches) {\n    return a.jasmineMatches(b);\n  }\n\n  if (b.jasmineMatches) {\n    return b.jasmineMatches(a);\n  }\n\n  if (a instanceof jasmine.Matchers.ObjectContaining) {\n    return a.matches(b);\n  }\n\n  if (b instanceof jasmine.Matchers.ObjectContaining) {\n    return b.matches(a);\n  }\n\n  if (jasmine.isString_(a) && jasmine.isString_(b)) {\n    return (a == b);\n  }\n\n  if (jasmine.isNumber_(a) && jasmine.isNumber_(b)) {\n    return (a == b);\n  }\n\n  if (a instanceof RegExp && b instanceof RegExp) {\n    return this.compareRegExps_(a, b, mismatchKeys, mismatchValues);\n  }\n\n  if (typeof a === \"object\" && typeof b === \"object\") {\n    return this.compareObjects_(a, b, mismatchKeys, mismatchValues);\n  }\n\n  //Straight check\n  return (a === b);\n};\n\njasmine.Env.prototype.contains_ = function(haystack, needle) {\n  if (jasmine.isArray_(haystack)) {\n    for (var i = 0; i < haystack.length; i++) {\n      if (this.equals_(haystack[i], needle)) return true;\n    }\n    return false;\n  }\n  return haystack.indexOf(needle) >= 0;\n};\n\njasmine.Env.prototype.addEqualityTester = function(equalityTester) {\n  this.equalityTesters_.push(equalityTester);\n};\n/** No-op base class for Jasmine reporters.\n *\n * @constructor\n */\njasmine.Reporter = function() {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.reportRunnerStarting = function(runner) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.reportRunnerResults = function(runner) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.reportSuiteResults = function(suite) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.reportSpecStarting = function(spec) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.reportSpecResults = function(spec) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.Reporter.prototype.log = function(str) {\n};\n\n/**\n * Blocks are functions with executable code that make up a spec.\n *\n * @constructor\n * @param {jasmine.Env} env\n * @param {Function} func\n * @param {jasmine.Spec} spec\n */\njasmine.Block = function(env, func, spec) {\n  this.env = env;\n  this.func = func;\n  this.spec = spec;\n};\n\njasmine.Block.prototype.execute = function(onComplete) {\n  if (!jasmine.CATCH_EXCEPTIONS) {\n    this.func.apply(this.spec);\n  }\n  else {\n    try {\n      this.func.apply(this.spec);\n    } catch (e) {\n      this.spec.fail(e);\n    }\n  }\n  onComplete();\n};\n/** JavaScript API reporter.\n *\n * @constructor\n */\njasmine.JsApiReporter = function() {\n  this.started = false;\n  this.finished = false;\n  this.suites_ = [];\n  this.results_ = {};\n};\n\njasmine.JsApiReporter.prototype.reportRunnerStarting = function(runner) {\n  this.started = true;\n  var suites = runner.topLevelSuites();\n  for (var i = 0; i < suites.length; i++) {\n    var suite = suites[i];\n    this.suites_.push(this.summarize_(suite));\n  }\n};\n\njasmine.JsApiReporter.prototype.suites = function() {\n  return this.suites_;\n};\n\njasmine.JsApiReporter.prototype.summarize_ = function(suiteOrSpec) {\n  var isSuite = suiteOrSpec instanceof jasmine.Suite;\n  var summary = {\n    id: suiteOrSpec.id,\n    name: suiteOrSpec.description,\n    type: isSuite ? 'suite' : 'spec',\n    children: []\n  };\n\n  if (isSuite) {\n    var children = suiteOrSpec.children();\n    for (var i = 0; i < children.length; i++) {\n      summary.children.push(this.summarize_(children[i]));\n    }\n  }\n  return summary;\n};\n\njasmine.JsApiReporter.prototype.results = function() {\n  return this.results_;\n};\n\njasmine.JsApiReporter.prototype.resultsForSpec = function(specId) {\n  return this.results_[specId];\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.JsApiReporter.prototype.reportRunnerResults = function(runner) {\n  this.finished = true;\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.JsApiReporter.prototype.reportSuiteResults = function(suite) {\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.JsApiReporter.prototype.reportSpecResults = function(spec) {\n  this.results_[spec.id] = {\n    messages: spec.results().getItems(),\n    result: spec.results().failedCount > 0 ? \"failed\" : \"passed\"\n  };\n};\n\n//noinspection JSUnusedLocalSymbols\njasmine.JsApiReporter.prototype.log = function(str) {\n};\n\njasmine.JsApiReporter.prototype.resultsForSpecs = function(specIds){\n  var results = {};\n  for (var i = 0; i < specIds.length; i++) {\n    var specId = specIds[i];\n    results[specId] = this.summarizeResult_(this.results_[specId]);\n  }\n  return results;\n};\n\njasmine.JsApiReporter.prototype.summarizeResult_ = function(result){\n  var summaryMessages = [];\n  var messagesLength = result.messages.length;\n  for (var messageIndex = 0; messageIndex < messagesLength; messageIndex++) {\n    var resultMessage = result.messages[messageIndex];\n    summaryMessages.push({\n      text: resultMessage.type == 'log' ? resultMessage.toString() : jasmine.undefined,\n      passed: resultMessage.passed ? resultMessage.passed() : true,\n      type: resultMessage.type,\n      message: resultMessage.message,\n      trace: {\n        stack: resultMessage.passed && !resultMessage.passed() ? resultMessage.trace.stack : jasmine.undefined\n      }\n    });\n  }\n\n  return {\n    result : result.result,\n    messages : summaryMessages\n  };\n};\n\n/**\n * @constructor\n * @param {jasmine.Env} env\n * @param actual\n * @param {jasmine.Spec} spec\n */\njasmine.Matchers = function(env, actual, spec, opt_isNot) {\n  this.env = env;\n  this.actual = actual;\n  this.spec = spec;\n  this.isNot = opt_isNot || false;\n  this.reportWasCalled_ = false;\n};\n\n// todo: @deprecated as of Jasmine 0.11, remove soon [xw]\njasmine.Matchers.pp = function(str) {\n  throw new Error(\"jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!\");\n};\n\n// todo: @deprecated Deprecated as of Jasmine 0.10. Rewrite your custom matchers to return true or false. [xw]\njasmine.Matchers.prototype.report = function(result, failing_message, details) {\n  throw new Error(\"As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs\");\n};\n\njasmine.Matchers.wrapInto_ = function(prototype, matchersClass) {\n  for (var methodName in prototype) {\n    if (methodName == 'report') continue;\n    var orig = prototype[methodName];\n    matchersClass.prototype[methodName] = jasmine.Matchers.matcherFn_(methodName, orig);\n  }\n};\n\njasmine.Matchers.matcherFn_ = function(matcherName, matcherFunction) {\n  return function() {\n    var matcherArgs = jasmine.util.argsToArray(arguments);\n    var result = matcherFunction.apply(this, arguments);\n\n    if (this.isNot) {\n      result = !result;\n    }\n\n    if (this.reportWasCalled_) return result;\n\n    var message;\n    if (!result) {\n      if (this.message) {\n        message = this.message.apply(this, arguments);\n        if (jasmine.isArray_(message)) {\n          message = message[this.isNot ? 1 : 0];\n        }\n      } else {\n        var englishyPredicate = matcherName.replace(/[A-Z]/g, function(s) { return ' ' + s.toLowerCase(); });\n        message = \"Expected \" + jasmine.pp(this.actual) + (this.isNot ? \" not \" : \" \") + englishyPredicate;\n        if (matcherArgs.length > 0) {\n          for (var i = 0; i < matcherArgs.length; i++) {\n            if (i > 0) message += \",\";\n            message += \" \" + jasmine.pp(matcherArgs[i]);\n          }\n        }\n        message += \".\";\n      }\n    }\n    var expectationResult = new jasmine.ExpectationResult({\n      matcherName: matcherName,\n      passed: result,\n      expected: matcherArgs.length > 1 ? matcherArgs : matcherArgs[0],\n      actual: this.actual,\n      message: message\n    });\n    this.spec.addMatcherResult(expectationResult);\n    return jasmine.undefined;\n  };\n};\n\n\n\n\n/**\n * toBe: compares the actual to the expected using ===\n * @param expected\n */\njasmine.Matchers.prototype.toBe = function(expected) {\n  return this.actual === expected;\n};\n\n/**\n * toNotBe: compares the actual to the expected using !==\n * @param expected\n * @deprecated as of 1.0. Use not.toBe() instead.\n */\njasmine.Matchers.prototype.toNotBe = function(expected) {\n  return this.actual !== expected;\n};\n\n/**\n * toEqual: compares the actual to the expected using common sense equality. Handles Objects, Arrays, etc.\n *\n * @param expected\n */\njasmine.Matchers.prototype.toEqual = function(expected) {\n  return this.env.equals_(this.actual, expected);\n};\n\n/**\n * toNotEqual: compares the actual to the expected using the ! of jasmine.Matchers.toEqual\n * @param expected\n * @deprecated as of 1.0. Use not.toEqual() instead.\n */\njasmine.Matchers.prototype.toNotEqual = function(expected) {\n  return !this.env.equals_(this.actual, expected);\n};\n\n/**\n * Matcher that compares the actual to the expected using a regular expression.  Constructs a RegExp, so takes\n * a pattern or a String.\n *\n * @param expected\n */\njasmine.Matchers.prototype.toMatch = function(expected) {\n  return new RegExp(expected).test(this.actual);\n};\n\n/**\n * Matcher that compares the actual to the expected using the boolean inverse of jasmine.Matchers.toMatch\n * @param expected\n * @deprecated as of 1.0. Use not.toMatch() instead.\n */\njasmine.Matchers.prototype.toNotMatch = function(expected) {\n  return !(new RegExp(expected).test(this.actual));\n};\n\n/**\n * Matcher that compares the actual to jasmine.undefined.\n */\njasmine.Matchers.prototype.toBeDefined = function() {\n  return (this.actual !== jasmine.undefined);\n};\n\n/**\n * Matcher that compares the actual to jasmine.undefined.\n */\njasmine.Matchers.prototype.toBeUndefined = function() {\n  return (this.actual === jasmine.undefined);\n};\n\n/**\n * Matcher that compares the actual to null.\n */\njasmine.Matchers.prototype.toBeNull = function() {\n  return (this.actual === null);\n};\n\n/**\n * Matcher that compares the actual to NaN.\n */\njasmine.Matchers.prototype.toBeNaN = function() {\n    this.message = function() {\n        return [ \"Expected \" + jasmine.pp(this.actual) + \" to be NaN.\" ];\n    };\n\n    return (this.actual !== this.actual);\n};\n\n/**\n * Matcher that boolean not-nots the actual.\n */\njasmine.Matchers.prototype.toBeTruthy = function() {\n  return !!this.actual;\n};\n\n\n/**\n * Matcher that boolean nots the actual.\n */\njasmine.Matchers.prototype.toBeFalsy = function() {\n  return !this.actual;\n};\n\n\n/**\n * Matcher that checks to see if the actual, a Jasmine spy, was called.\n */\njasmine.Matchers.prototype.toHaveBeenCalled = function() {\n  if (arguments.length > 0) {\n    throw new Error('toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith');\n  }\n\n  if (!jasmine.isSpy(this.actual)) {\n    throw new Error('Expected a spy, but got ' + jasmine.pp(this.actual) + '.');\n  }\n\n  this.message = function() {\n    return [\n      \"Expected spy \" + this.actual.identity + \" to have been called.\",\n      \"Expected spy \" + this.actual.identity + \" not to have been called.\"\n    ];\n  };\n\n  return this.actual.wasCalled;\n};\n\n/** @deprecated Use expect(xxx).toHaveBeenCalled() instead */\njasmine.Matchers.prototype.wasCalled = jasmine.Matchers.prototype.toHaveBeenCalled;\n\n/**\n * Matcher that checks to see if the actual, a Jasmine spy, was not called.\n *\n * @deprecated Use expect(xxx).not.toHaveBeenCalled() instead\n */\njasmine.Matchers.prototype.wasNotCalled = function() {\n  if (arguments.length > 0) {\n    throw new Error('wasNotCalled does not take arguments');\n  }\n\n  if (!jasmine.isSpy(this.actual)) {\n    throw new Error('Expected a spy, but got ' + jasmine.pp(this.actual) + '.');\n  }\n\n  this.message = function() {\n    return [\n      \"Expected spy \" + this.actual.identity + \" to not have been called.\",\n      \"Expected spy \" + this.actual.identity + \" to have been called.\"\n    ];\n  };\n\n  return !this.actual.wasCalled;\n};\n\n/**\n * Matcher that checks to see if the actual, a Jasmine spy, was called with a set of parameters.\n *\n * @example\n *\n */\njasmine.Matchers.prototype.toHaveBeenCalledWith = function() {\n  var expectedArgs = jasmine.util.argsToArray(arguments);\n  if (!jasmine.isSpy(this.actual)) {\n    throw new Error('Expected a spy, but got ' + jasmine.pp(this.actual) + '.');\n  }\n  this.message = function() {\n    var invertedMessage = \"Expected spy \" + this.actual.identity + \" not to have been called with \" + jasmine.pp(expectedArgs) + \" but it was.\";\n    var positiveMessage = \"\";\n    if (this.actual.callCount === 0) {\n      positiveMessage = \"Expected spy \" + this.actual.identity + \" to have been called with \" + jasmine.pp(expectedArgs) + \" but it was never called.\";\n    } else {\n      positiveMessage = \"Expected spy \" + this.actual.identity + \" to have been called with \" + jasmine.pp(expectedArgs) + \" but actual calls were \" + jasmine.pp(this.actual.argsForCall).replace(/^\\[ | \\]$/g, '')\n    }\n    return [positiveMessage, invertedMessage];\n  };\n\n  return this.env.contains_(this.actual.argsForCall, expectedArgs);\n};\n\n/** @deprecated Use expect(xxx).toHaveBeenCalledWith() instead */\njasmine.Matchers.prototype.wasCalledWith = jasmine.Matchers.prototype.toHaveBeenCalledWith;\n\n/** @deprecated Use expect(xxx).not.toHaveBeenCalledWith() instead */\njasmine.Matchers.prototype.wasNotCalledWith = function() {\n  var expectedArgs = jasmine.util.argsToArray(arguments);\n  if (!jasmine.isSpy(this.actual)) {\n    throw new Error('Expected a spy, but got ' + jasmine.pp(this.actual) + '.');\n  }\n\n  this.message = function() {\n    return [\n      \"Expected spy not to have been called with \" + jasmine.pp(expectedArgs) + \" but it was\",\n      \"Expected spy to have been called with \" + jasmine.pp(expectedArgs) + \" but it was\"\n    ];\n  };\n\n  return !this.env.contains_(this.actual.argsForCall, expectedArgs);\n};\n\n/**\n * Matcher that checks that the expected item is an element in the actual Array.\n *\n * @param {Object} expected\n */\njasmine.Matchers.prototype.toContain = function(expected) {\n  return this.env.contains_(this.actual, expected);\n};\n\n/**\n * Matcher that checks that the expected item is NOT an element in the actual Array.\n *\n * @param {Object} expected\n * @deprecated as of 1.0. Use not.toContain() instead.\n */\njasmine.Matchers.prototype.toNotContain = function(expected) {\n  return !this.env.contains_(this.actual, expected);\n};\n\njasmine.Matchers.prototype.toBeLessThan = function(expected) {\n  return this.actual < expected;\n};\n\njasmine.Matchers.prototype.toBeGreaterThan = function(expected) {\n  return this.actual > expected;\n};\n\n/**\n * Matcher that checks that the expected item is equal to the actual item\n * up to a given level of decimal precision (default 2).\n *\n * @param {Number} expected\n * @param {Number} precision, as number of decimal places\n */\njasmine.Matchers.prototype.toBeCloseTo = function(expected, precision) {\n  if (!(precision === 0)) {\n    precision = precision || 2;\n  }\n  return Math.abs(expected - this.actual) < (Math.pow(10, -precision) / 2);\n};\n\n/**\n * Matcher that checks that the expected exception was thrown by the actual.\n *\n * @param {String} [expected]\n */\njasmine.Matchers.prototype.toThrow = function(expected) {\n  var result = false;\n  var exception;\n  if (typeof this.actual != 'function') {\n    throw new Error('Actual is not a function');\n  }\n  try {\n    this.actual();\n  } catch (e) {\n    exception = e;\n  }\n  if (exception) {\n    result = (expected === jasmine.undefined || this.env.equals_(exception.message || exception, expected.message || expected));\n  }\n\n  var not = this.isNot ? \"not \" : \"\";\n\n  this.message = function() {\n    if (exception && (expected === jasmine.undefined || !this.env.equals_(exception.message || exception, expected.message || expected))) {\n      return [\"Expected function \" + not + \"to throw\", expected ? expected.message || expected : \"an exception\", \", but it threw\", exception.message || exception].join(' ');\n    } else {\n      return \"Expected function to throw an exception.\";\n    }\n  };\n\n  return result;\n};\n\njasmine.Matchers.Any = function(expectedClass) {\n  this.expectedClass = expectedClass;\n};\n\njasmine.Matchers.Any.prototype.jasmineMatches = function(other) {\n  if (this.expectedClass == String) {\n    return typeof other == 'string' || other instanceof String;\n  }\n\n  if (this.expectedClass == Number) {\n    return typeof other == 'number' || other instanceof Number;\n  }\n\n  if (this.expectedClass == Function) {\n    return typeof other == 'function' || other instanceof Function;\n  }\n\n  if (this.expectedClass == Object) {\n    return typeof other == 'object';\n  }\n\n  return other instanceof this.expectedClass;\n};\n\njasmine.Matchers.Any.prototype.jasmineToString = function() {\n  return '<jasmine.any(' + this.expectedClass + ')>';\n};\n\njasmine.Matchers.ObjectContaining = function (sample) {\n  this.sample = sample;\n};\n\njasmine.Matchers.ObjectContaining.prototype.jasmineMatches = function(other, mismatchKeys, mismatchValues) {\n  mismatchKeys = mismatchKeys || [];\n  mismatchValues = mismatchValues || [];\n\n  var env = jasmine.getEnv();\n\n  var hasKey = function(obj, keyName) {\n    return obj != null && obj[keyName] !== jasmine.undefined;\n  };\n\n  for (var property in this.sample) {\n    if (!hasKey(other, property) && hasKey(this.sample, property)) {\n      mismatchKeys.push(\"expected has key '\" + property + \"', but missing from actual.\");\n    }\n    else if (!env.equals_(this.sample[property], other[property], mismatchKeys, mismatchValues)) {\n      mismatchValues.push(\"'\" + property + \"' was '\" + (other[property] ? jasmine.util.htmlEscape(other[property].toString()) : other[property]) + \"' in expected, but was '\" + (this.sample[property] ? jasmine.util.htmlEscape(this.sample[property].toString()) : this.sample[property]) + \"' in actual.\");\n    }\n  }\n\n  return (mismatchKeys.length === 0 && mismatchValues.length === 0);\n};\n\njasmine.Matchers.ObjectContaining.prototype.jasmineToString = function () {\n  return \"<jasmine.objectContaining(\" + jasmine.pp(this.sample) + \")>\";\n};\n// Mock setTimeout, clearTimeout\n// Contributed by Pivotal Computer Systems, www.pivotalsf.com\n\njasmine.FakeTimer = function() {\n  this.reset();\n\n  var self = this;\n  self.setTimeout = function(funcToCall, millis) {\n    self.timeoutsMade++;\n    self.scheduleFunction(self.timeoutsMade, funcToCall, millis, false);\n    return self.timeoutsMade;\n  };\n\n  self.setInterval = function(funcToCall, millis) {\n    self.timeoutsMade++;\n    self.scheduleFunction(self.timeoutsMade, funcToCall, millis, true);\n    return self.timeoutsMade;\n  };\n\n  self.clearTimeout = function(timeoutKey) {\n    self.scheduledFunctions[timeoutKey] = jasmine.undefined;\n  };\n\n  self.clearInterval = function(timeoutKey) {\n    self.scheduledFunctions[timeoutKey] = jasmine.undefined;\n  };\n\n};\n\njasmine.FakeTimer.prototype.reset = function() {\n  this.timeoutsMade = 0;\n  this.scheduledFunctions = {};\n  this.nowMillis = 0;\n};\n\njasmine.FakeTimer.prototype.tick = function(millis) {\n  var oldMillis = this.nowMillis;\n  var newMillis = oldMillis + millis;\n  this.runFunctionsWithinRange(oldMillis, newMillis);\n  this.nowMillis = newMillis;\n};\n\njasmine.FakeTimer.prototype.runFunctionsWithinRange = function(oldMillis, nowMillis) {\n  var scheduledFunc;\n  var funcsToRun = [];\n  for (var timeoutKey in this.scheduledFunctions) {\n    scheduledFunc = this.scheduledFunctions[timeoutKey];\n    if (scheduledFunc != jasmine.undefined &&\n        scheduledFunc.runAtMillis >= oldMillis &&\n        scheduledFunc.runAtMillis <= nowMillis) {\n      funcsToRun.push(scheduledFunc);\n      this.scheduledFunctions[timeoutKey] = jasmine.undefined;\n    }\n  }\n\n  if (funcsToRun.length > 0) {\n    funcsToRun.sort(function(a, b) {\n      return a.runAtMillis - b.runAtMillis;\n    });\n    for (var i = 0; i < funcsToRun.length; ++i) {\n      try {\n        var funcToRun = funcsToRun[i];\n        this.nowMillis = funcToRun.runAtMillis;\n        funcToRun.funcToCall();\n        if (funcToRun.recurring) {\n          this.scheduleFunction(funcToRun.timeoutKey,\n              funcToRun.funcToCall,\n              funcToRun.millis,\n              true);\n        }\n      } catch(e) {\n      }\n    }\n    this.runFunctionsWithinRange(oldMillis, nowMillis);\n  }\n};\n\njasmine.FakeTimer.prototype.scheduleFunction = function(timeoutKey, funcToCall, millis, recurring) {\n  this.scheduledFunctions[timeoutKey] = {\n    runAtMillis: this.nowMillis + millis,\n    funcToCall: funcToCall,\n    recurring: recurring,\n    timeoutKey: timeoutKey,\n    millis: millis\n  };\n};\n\n/**\n * @namespace\n */\njasmine.Clock = {\n  defaultFakeTimer: new jasmine.FakeTimer(),\n\n  reset: function() {\n    jasmine.Clock.assertInstalled();\n    jasmine.Clock.defaultFakeTimer.reset();\n  },\n\n  tick: function(millis) {\n    jasmine.Clock.assertInstalled();\n    jasmine.Clock.defaultFakeTimer.tick(millis);\n  },\n\n  runFunctionsWithinRange: function(oldMillis, nowMillis) {\n    jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(oldMillis, nowMillis);\n  },\n\n  scheduleFunction: function(timeoutKey, funcToCall, millis, recurring) {\n    jasmine.Clock.defaultFakeTimer.scheduleFunction(timeoutKey, funcToCall, millis, recurring);\n  },\n\n  useMock: function() {\n    if (!jasmine.Clock.isInstalled()) {\n      var spec = jasmine.getEnv().currentSpec;\n      spec.after(jasmine.Clock.uninstallMock);\n\n      jasmine.Clock.installMock();\n    }\n  },\n\n  installMock: function() {\n    jasmine.Clock.installed = jasmine.Clock.defaultFakeTimer;\n  },\n\n  uninstallMock: function() {\n    jasmine.Clock.assertInstalled();\n    jasmine.Clock.installed = jasmine.Clock.real;\n  },\n\n  real: {\n    setTimeout: jasmine.getGlobal().setTimeout,\n    clearTimeout: jasmine.getGlobal().clearTimeout,\n    setInterval: jasmine.getGlobal().setInterval,\n    clearInterval: jasmine.getGlobal().clearInterval\n  },\n\n  assertInstalled: function() {\n    if (!jasmine.Clock.isInstalled()) {\n      throw new Error(\"Mock clock is not installed, use jasmine.Clock.useMock()\");\n    }\n  },\n\n  isInstalled: function() {\n    return jasmine.Clock.installed == jasmine.Clock.defaultFakeTimer;\n  },\n\n  installed: null\n};\njasmine.Clock.installed = jasmine.Clock.real;\n\n//else for IE support\njasmine.getGlobal().setTimeout = function(funcToCall, millis) {\n  if (jasmine.Clock.installed.setTimeout.apply) {\n    return jasmine.Clock.installed.setTimeout.apply(this, arguments);\n  } else {\n    return jasmine.Clock.installed.setTimeout(funcToCall, millis);\n  }\n};\n\njasmine.getGlobal().setInterval = function(funcToCall, millis) {\n  if (jasmine.Clock.installed.setInterval.apply) {\n    return jasmine.Clock.installed.setInterval.apply(this, arguments);\n  } else {\n    return jasmine.Clock.installed.setInterval(funcToCall, millis);\n  }\n};\n\njasmine.getGlobal().clearTimeout = function(timeoutKey) {\n  if (jasmine.Clock.installed.clearTimeout.apply) {\n    return jasmine.Clock.installed.clearTimeout.apply(this, arguments);\n  } else {\n    return jasmine.Clock.installed.clearTimeout(timeoutKey);\n  }\n};\n\njasmine.getGlobal().clearInterval = function(timeoutKey) {\n  if (jasmine.Clock.installed.clearTimeout.apply) {\n    return jasmine.Clock.installed.clearInterval.apply(this, arguments);\n  } else {\n    return jasmine.Clock.installed.clearInterval(timeoutKey);\n  }\n};\n\n/**\n * @constructor\n */\njasmine.MultiReporter = function() {\n  this.subReporters_ = [];\n};\njasmine.util.inherit(jasmine.MultiReporter, jasmine.Reporter);\n\njasmine.MultiReporter.prototype.addReporter = function(reporter) {\n  this.subReporters_.push(reporter);\n};\n\n(function() {\n  var functionNames = [\n    \"reportRunnerStarting\",\n    \"reportRunnerResults\",\n    \"reportSuiteResults\",\n    \"reportSpecStarting\",\n    \"reportSpecResults\",\n    \"log\"\n  ];\n  for (var i = 0; i < functionNames.length; i++) {\n    var functionName = functionNames[i];\n    jasmine.MultiReporter.prototype[functionName] = (function(functionName) {\n      return function() {\n        for (var j = 0; j < this.subReporters_.length; j++) {\n          var subReporter = this.subReporters_[j];\n          if (subReporter[functionName]) {\n            subReporter[functionName].apply(subReporter, arguments);\n          }\n        }\n      };\n    })(functionName);\n  }\n})();\n/**\n * Holds results for a set of Jasmine spec. Allows for the results array to hold another jasmine.NestedResults\n *\n * @constructor\n */\njasmine.NestedResults = function() {\n  /**\n   * The total count of results\n   */\n  this.totalCount = 0;\n  /**\n   * Number of passed results\n   */\n  this.passedCount = 0;\n  /**\n   * Number of failed results\n   */\n  this.failedCount = 0;\n  /**\n   * Was this suite/spec skipped?\n   */\n  this.skipped = false;\n  /**\n   * @ignore\n   */\n  this.items_ = [];\n};\n\n/**\n * Roll up the result counts.\n *\n * @param result\n */\njasmine.NestedResults.prototype.rollupCounts = function(result) {\n  this.totalCount += result.totalCount;\n  this.passedCount += result.passedCount;\n  this.failedCount += result.failedCount;\n};\n\n/**\n * Adds a log message.\n * @param values Array of message parts which will be concatenated later.\n */\njasmine.NestedResults.prototype.log = function(values) {\n  this.items_.push(new jasmine.MessageResult(values));\n};\n\n/**\n * Getter for the results: message & results.\n */\njasmine.NestedResults.prototype.getItems = function() {\n  return this.items_;\n};\n\n/**\n * Adds a result, tracking counts (total, passed, & failed)\n * @param {jasmine.ExpectationResult|jasmine.NestedResults} result\n */\njasmine.NestedResults.prototype.addResult = function(result) {\n  if (result.type != 'log') {\n    if (result.items_) {\n      this.rollupCounts(result);\n    } else {\n      this.totalCount++;\n      if (result.passed()) {\n        this.passedCount++;\n      } else {\n        this.failedCount++;\n      }\n    }\n  }\n  this.items_.push(result);\n};\n\n/**\n * @returns {Boolean} True if <b>everything</b> below passed\n */\njasmine.NestedResults.prototype.passed = function() {\n  return this.passedCount === this.totalCount;\n};\n/**\n * Base class for pretty printing for expectation results.\n */\njasmine.PrettyPrinter = function() {\n  this.ppNestLevel_ = 0;\n};\n\n/**\n * Formats a value in a nice, human-readable string.\n *\n * @param value\n */\njasmine.PrettyPrinter.prototype.format = function(value) {\n  this.ppNestLevel_++;\n  try {\n    if (value === jasmine.undefined) {\n      this.emitScalar('undefined');\n    } else if (value === null) {\n      this.emitScalar('null');\n    } else if (value === jasmine.getGlobal()) {\n      this.emitScalar('<global>');\n    } else if (value.jasmineToString) {\n      this.emitScalar(value.jasmineToString());\n    } else if (typeof value === 'string') {\n      this.emitString(value);\n    } else if (jasmine.isSpy(value)) {\n      this.emitScalar(\"spy on \" + value.identity);\n    } else if (value instanceof RegExp) {\n      this.emitScalar(value.toString());\n    } else if (typeof value === 'function') {\n      this.emitScalar('Function');\n    } else if (typeof value.nodeType === 'number') {\n      this.emitScalar('HTMLNode');\n    } else if (value instanceof Date) {\n      this.emitScalar('Date(' + value + ')');\n    } else if (value.__Jasmine_been_here_before__) {\n      this.emitScalar('<circular reference: ' + (jasmine.isArray_(value) ? 'Array' : 'Object') + '>');\n    } else if (jasmine.isArray_(value) || typeof value == 'object') {\n      value.__Jasmine_been_here_before__ = true;\n      if (jasmine.isArray_(value)) {\n        this.emitArray(value);\n      } else {\n        this.emitObject(value);\n      }\n      delete value.__Jasmine_been_here_before__;\n    } else {\n      this.emitScalar(value.toString());\n    }\n  } finally {\n    this.ppNestLevel_--;\n  }\n};\n\njasmine.PrettyPrinter.prototype.iterateObject = function(obj, fn) {\n  for (var property in obj) {\n    if (!obj.hasOwnProperty(property)) continue;\n    if (property == '__Jasmine_been_here_before__') continue;\n    fn(property, obj.__lookupGetter__ ? (obj.__lookupGetter__(property) !== jasmine.undefined && \n                                         obj.__lookupGetter__(property) !== null) : false);\n  }\n};\n\njasmine.PrettyPrinter.prototype.emitArray = jasmine.unimplementedMethod_;\njasmine.PrettyPrinter.prototype.emitObject = jasmine.unimplementedMethod_;\njasmine.PrettyPrinter.prototype.emitScalar = jasmine.unimplementedMethod_;\njasmine.PrettyPrinter.prototype.emitString = jasmine.unimplementedMethod_;\n\njasmine.StringPrettyPrinter = function() {\n  jasmine.PrettyPrinter.call(this);\n\n  this.string = '';\n};\njasmine.util.inherit(jasmine.StringPrettyPrinter, jasmine.PrettyPrinter);\n\njasmine.StringPrettyPrinter.prototype.emitScalar = function(value) {\n  this.append(value);\n};\n\njasmine.StringPrettyPrinter.prototype.emitString = function(value) {\n  this.append(\"'\" + value + \"'\");\n};\n\njasmine.StringPrettyPrinter.prototype.emitArray = function(array) {\n  if (this.ppNestLevel_ > jasmine.MAX_PRETTY_PRINT_DEPTH) {\n    this.append(\"Array\");\n    return;\n  }\n\n  this.append('[ ');\n  for (var i = 0; i < array.length; i++) {\n    if (i > 0) {\n      this.append(', ');\n    }\n    this.format(array[i]);\n  }\n  this.append(' ]');\n};\n\njasmine.StringPrettyPrinter.prototype.emitObject = function(obj) {\n  if (this.ppNestLevel_ > jasmine.MAX_PRETTY_PRINT_DEPTH) {\n    this.append(\"Object\");\n    return;\n  }\n\n  var self = this;\n  this.append('{ ');\n  var first = true;\n\n  this.iterateObject(obj, function(property, isGetter) {\n    if (first) {\n      first = false;\n    } else {\n      self.append(', ');\n    }\n\n    self.append(property);\n    self.append(' : ');\n    if (isGetter) {\n      self.append('<getter>');\n    } else {\n      self.format(obj[property]);\n    }\n  });\n\n  this.append(' }');\n};\n\njasmine.StringPrettyPrinter.prototype.append = function(value) {\n  this.string += value;\n};\njasmine.Queue = function(env) {\n  this.env = env;\n\n  // parallel to blocks. each true value in this array means the block will\n  // get executed even if we abort\n  this.ensured = [];\n  this.blocks = [];\n  this.running = false;\n  this.index = 0;\n  this.offset = 0;\n  this.abort = false;\n};\n\njasmine.Queue.prototype.addBefore = function(block, ensure) {\n  if (ensure === jasmine.undefined) {\n    ensure = false;\n  }\n\n  this.blocks.unshift(block);\n  this.ensured.unshift(ensure);\n};\n\njasmine.Queue.prototype.add = function(block, ensure) {\n  if (ensure === jasmine.undefined) {\n    ensure = false;\n  }\n\n  this.blocks.push(block);\n  this.ensured.push(ensure);\n};\n\njasmine.Queue.prototype.insertNext = function(block, ensure) {\n  if (ensure === jasmine.undefined) {\n    ensure = false;\n  }\n\n  this.ensured.splice((this.index + this.offset + 1), 0, ensure);\n  this.blocks.splice((this.index + this.offset + 1), 0, block);\n  this.offset++;\n};\n\njasmine.Queue.prototype.start = function(onComplete) {\n  this.running = true;\n  this.onComplete = onComplete;\n  this.next_();\n};\n\njasmine.Queue.prototype.isRunning = function() {\n  return this.running;\n};\n\njasmine.Queue.LOOP_DONT_RECURSE = true;\n\njasmine.Queue.prototype.next_ = function() {\n  var self = this;\n  var goAgain = true;\n\n  while (goAgain) {\n    goAgain = false;\n\n    if (self.index < self.blocks.length && !(this.abort && !this.ensured[self.index])) {\n      var calledSynchronously = true;\n      var completedSynchronously = false;\n\n      var onComplete = function () {\n        if (jasmine.Queue.LOOP_DONT_RECURSE && calledSynchronously) {\n          completedSynchronously = true;\n          return;\n        }\n\n        if (self.blocks[self.index].abort) {\n          self.abort = true;\n        }\n\n        self.offset = 0;\n        self.index++;\n\n        var now = new Date().getTime();\n        if (self.env.updateInterval && now - self.env.lastUpdate > self.env.updateInterval) {\n          self.env.lastUpdate = now;\n          self.env.setTimeout(function() {\n            self.next_();\n          }, 0);\n        } else {\n          if (jasmine.Queue.LOOP_DONT_RECURSE && completedSynchronously) {\n            goAgain = true;\n          } else {\n            self.next_();\n          }\n        }\n      };\n      self.blocks[self.index].execute(onComplete);\n\n      calledSynchronously = false;\n      if (completedSynchronously) {\n        onComplete();\n      }\n\n    } else {\n      self.running = false;\n      if (self.onComplete) {\n        self.onComplete();\n      }\n    }\n  }\n};\n\njasmine.Queue.prototype.results = function() {\n  var results = new jasmine.NestedResults();\n  for (var i = 0; i < this.blocks.length; i++) {\n    if (this.blocks[i].results) {\n      results.addResult(this.blocks[i].results());\n    }\n  }\n  return results;\n};\n\n\n/**\n * Runner\n *\n * @constructor\n * @param {jasmine.Env} env\n */\njasmine.Runner = function(env) {\n  var self = this;\n  self.env = env;\n  self.queue = new jasmine.Queue(env);\n  self.before_ = [];\n  self.after_ = [];\n  self.suites_ = [];\n};\n\njasmine.Runner.prototype.execute = function() {\n  var self = this;\n  if (self.env.reporter.reportRunnerStarting) {\n    self.env.reporter.reportRunnerStarting(this);\n  }\n  self.queue.start(function () {\n    self.finishCallback();\n  });\n};\n\njasmine.Runner.prototype.beforeEach = function(beforeEachFunction) {\n  beforeEachFunction.typeName = 'beforeEach';\n  this.before_.splice(0,0,beforeEachFunction);\n};\n\njasmine.Runner.prototype.afterEach = function(afterEachFunction) {\n  afterEachFunction.typeName = 'afterEach';\n  this.after_.splice(0,0,afterEachFunction);\n};\n\n\njasmine.Runner.prototype.finishCallback = function() {\n  this.env.reporter.reportRunnerResults(this);\n};\n\njasmine.Runner.prototype.addSuite = function(suite) {\n  this.suites_.push(suite);\n};\n\njasmine.Runner.prototype.add = function(block) {\n  if (block instanceof jasmine.Suite) {\n    this.addSuite(block);\n  }\n  this.queue.add(block);\n};\n\njasmine.Runner.prototype.specs = function () {\n  var suites = this.suites();\n  var specs = [];\n  for (var i = 0; i < suites.length; i++) {\n    specs = specs.concat(suites[i].specs());\n  }\n  return specs;\n};\n\njasmine.Runner.prototype.suites = function() {\n  return this.suites_;\n};\n\njasmine.Runner.prototype.topLevelSuites = function() {\n  var topLevelSuites = [];\n  for (var i = 0; i < this.suites_.length; i++) {\n    if (!this.suites_[i].parentSuite) {\n      topLevelSuites.push(this.suites_[i]);\n    }\n  }\n  return topLevelSuites;\n};\n\njasmine.Runner.prototype.results = function() {\n  return this.queue.results();\n};\n/**\n * Internal representation of a Jasmine specification, or test.\n *\n * @constructor\n * @param {jasmine.Env} env\n * @param {jasmine.Suite} suite\n * @param {String} description\n */\njasmine.Spec = function(env, suite, description) {\n  if (!env) {\n    throw new Error('jasmine.Env() required');\n  }\n  if (!suite) {\n    throw new Error('jasmine.Suite() required');\n  }\n  var spec = this;\n  spec.id = env.nextSpecId ? env.nextSpecId() : null;\n  spec.env = env;\n  spec.suite = suite;\n  spec.description = description;\n  spec.queue = new jasmine.Queue(env);\n\n  spec.afterCallbacks = [];\n  spec.spies_ = [];\n\n  spec.results_ = new jasmine.NestedResults();\n  spec.results_.description = description;\n  spec.matchersClass = null;\n};\n\njasmine.Spec.prototype.getFullName = function() {\n  return this.suite.getFullName() + ' ' + this.description + '.';\n};\n\n\njasmine.Spec.prototype.results = function() {\n  return this.results_;\n};\n\n/**\n * All parameters are pretty-printed and concatenated together, then written to the spec's output.\n *\n * Be careful not to leave calls to <code>jasmine.log</code> in production code.\n */\njasmine.Spec.prototype.log = function() {\n  return this.results_.log(arguments);\n};\n\njasmine.Spec.prototype.runs = function (func) {\n  var block = new jasmine.Block(this.env, func, this);\n  this.addToQueue(block);\n  return this;\n};\n\njasmine.Spec.prototype.addToQueue = function (block) {\n  if (this.queue.isRunning()) {\n    this.queue.insertNext(block);\n  } else {\n    this.queue.add(block);\n  }\n};\n\n/**\n * @param {jasmine.ExpectationResult} result\n */\njasmine.Spec.prototype.addMatcherResult = function(result) {\n  this.results_.addResult(result);\n};\n\njasmine.Spec.prototype.expect = function(actual) {\n  var positive = new (this.getMatchersClass_())(this.env, actual, this);\n  positive.not = new (this.getMatchersClass_())(this.env, actual, this, true);\n  return positive;\n};\n\n/**\n * Waits a fixed time period before moving to the next block.\n *\n * @deprecated Use waitsFor() instead\n * @param {Number} timeout milliseconds to wait\n */\njasmine.Spec.prototype.waits = function(timeout) {\n  var waitsFunc = new jasmine.WaitsBlock(this.env, timeout, this);\n  this.addToQueue(waitsFunc);\n  return this;\n};\n\n/**\n * Waits for the latchFunction to return true before proceeding to the next block.\n *\n * @param {Function} latchFunction\n * @param {String} optional_timeoutMessage\n * @param {Number} optional_timeout\n */\njasmine.Spec.prototype.waitsFor = function(latchFunction, optional_timeoutMessage, optional_timeout) {\n  var latchFunction_ = null;\n  var optional_timeoutMessage_ = null;\n  var optional_timeout_ = null;\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    switch (typeof arg) {\n      case 'function':\n        latchFunction_ = arg;\n        break;\n      case 'string':\n        optional_timeoutMessage_ = arg;\n        break;\n      case 'number':\n        optional_timeout_ = arg;\n        break;\n    }\n  }\n\n  var waitsForFunc = new jasmine.WaitsForBlock(this.env, optional_timeout_, latchFunction_, optional_timeoutMessage_, this);\n  this.addToQueue(waitsForFunc);\n  return this;\n};\n\njasmine.Spec.prototype.fail = function (e) {\n  var expectationResult = new jasmine.ExpectationResult({\n    passed: false,\n    message: e ? jasmine.util.formatException(e) : 'Exception',\n    trace: { stack: e.stack }\n  });\n  this.results_.addResult(expectationResult);\n};\n\njasmine.Spec.prototype.getMatchersClass_ = function() {\n  return this.matchersClass || this.env.matchersClass;\n};\n\njasmine.Spec.prototype.addMatchers = function(matchersPrototype) {\n  var parent = this.getMatchersClass_();\n  var newMatchersClass = function() {\n    parent.apply(this, arguments);\n  };\n  jasmine.util.inherit(newMatchersClass, parent);\n  jasmine.Matchers.wrapInto_(matchersPrototype, newMatchersClass);\n  this.matchersClass = newMatchersClass;\n};\n\njasmine.Spec.prototype.finishCallback = function() {\n  this.env.reporter.reportSpecResults(this);\n};\n\njasmine.Spec.prototype.finish = function(onComplete) {\n  this.removeAllSpies();\n  this.finishCallback();\n  if (onComplete) {\n    onComplete();\n  }\n};\n\njasmine.Spec.prototype.after = function(doAfter) {\n  if (this.queue.isRunning()) {\n    this.queue.add(new jasmine.Block(this.env, doAfter, this), true);\n  } else {\n    this.afterCallbacks.unshift(doAfter);\n  }\n};\n\njasmine.Spec.prototype.execute = function(onComplete) {\n  var spec = this;\n  if (!spec.env.specFilter(spec)) {\n    spec.results_.skipped = true;\n    spec.finish(onComplete);\n    return;\n  }\n\n  this.env.reporter.reportSpecStarting(this);\n\n  spec.env.currentSpec = spec;\n\n  spec.addBeforesAndAftersToQueue();\n\n  spec.queue.start(function () {\n    spec.finish(onComplete);\n  });\n};\n\njasmine.Spec.prototype.addBeforesAndAftersToQueue = function() {\n  var runner = this.env.currentRunner();\n  var i;\n\n  for (var suite = this.suite; suite; suite = suite.parentSuite) {\n    for (i = 0; i < suite.before_.length; i++) {\n      this.queue.addBefore(new jasmine.Block(this.env, suite.before_[i], this));\n    }\n  }\n  for (i = 0; i < runner.before_.length; i++) {\n    this.queue.addBefore(new jasmine.Block(this.env, runner.before_[i], this));\n  }\n  for (i = 0; i < this.afterCallbacks.length; i++) {\n    this.queue.add(new jasmine.Block(this.env, this.afterCallbacks[i], this), true);\n  }\n  for (suite = this.suite; suite; suite = suite.parentSuite) {\n    for (i = 0; i < suite.after_.length; i++) {\n      this.queue.add(new jasmine.Block(this.env, suite.after_[i], this), true);\n    }\n  }\n  for (i = 0; i < runner.after_.length; i++) {\n    this.queue.add(new jasmine.Block(this.env, runner.after_[i], this), true);\n  }\n};\n\njasmine.Spec.prototype.explodes = function() {\n  throw 'explodes function should not have been called';\n};\n\njasmine.Spec.prototype.spyOn = function(obj, methodName, ignoreMethodDoesntExist) {\n  if (obj == jasmine.undefined) {\n    throw \"spyOn could not find an object to spy upon for \" + methodName + \"()\";\n  }\n\n  if (!ignoreMethodDoesntExist && obj[methodName] === jasmine.undefined) {\n    throw methodName + '() method does not exist';\n  }\n\n  if (!ignoreMethodDoesntExist && obj[methodName] && obj[methodName].isSpy) {\n    throw new Error(methodName + ' has already been spied upon');\n  }\n\n  var spyObj = jasmine.createSpy(methodName);\n\n  this.spies_.push(spyObj);\n  spyObj.baseObj = obj;\n  spyObj.methodName = methodName;\n  spyObj.originalValue = obj[methodName];\n\n  obj[methodName] = spyObj;\n\n  return spyObj;\n};\n\njasmine.Spec.prototype.removeAllSpies = function() {\n  for (var i = 0; i < this.spies_.length; i++) {\n    var spy = this.spies_[i];\n    spy.baseObj[spy.methodName] = spy.originalValue;\n  }\n  this.spies_ = [];\n};\n\n/**\n * Internal representation of a Jasmine suite.\n *\n * @constructor\n * @param {jasmine.Env} env\n * @param {String} description\n * @param {Function} specDefinitions\n * @param {jasmine.Suite} parentSuite\n */\njasmine.Suite = function(env, description, specDefinitions, parentSuite) {\n  var self = this;\n  self.id = env.nextSuiteId ? env.nextSuiteId() : null;\n  self.description = description;\n  self.queue = new jasmine.Queue(env);\n  self.parentSuite = parentSuite;\n  self.env = env;\n  self.before_ = [];\n  self.after_ = [];\n  self.children_ = [];\n  self.suites_ = [];\n  self.specs_ = [];\n};\n\njasmine.Suite.prototype.getFullName = function() {\n  var fullName = this.description;\n  for (var parentSuite = this.parentSuite; parentSuite; parentSuite = parentSuite.parentSuite) {\n    fullName = parentSuite.description + ' ' + fullName;\n  }\n  return fullName;\n};\n\njasmine.Suite.prototype.finish = function(onComplete) {\n  this.env.reporter.reportSuiteResults(this);\n  this.finished = true;\n  if (typeof(onComplete) == 'function') {\n    onComplete();\n  }\n};\n\njasmine.Suite.prototype.beforeEach = function(beforeEachFunction) {\n  beforeEachFunction.typeName = 'beforeEach';\n  this.before_.unshift(beforeEachFunction);\n};\n\njasmine.Suite.prototype.afterEach = function(afterEachFunction) {\n  afterEachFunction.typeName = 'afterEach';\n  this.after_.unshift(afterEachFunction);\n};\n\njasmine.Suite.prototype.results = function() {\n  return this.queue.results();\n};\n\njasmine.Suite.prototype.add = function(suiteOrSpec) {\n  this.children_.push(suiteOrSpec);\n  if (suiteOrSpec instanceof jasmine.Suite) {\n    this.suites_.push(suiteOrSpec);\n    this.env.currentRunner().addSuite(suiteOrSpec);\n  } else {\n    this.specs_.push(suiteOrSpec);\n  }\n  this.queue.add(suiteOrSpec);\n};\n\njasmine.Suite.prototype.specs = function() {\n  return this.specs_;\n};\n\njasmine.Suite.prototype.suites = function() {\n  return this.suites_;\n};\n\njasmine.Suite.prototype.children = function() {\n  return this.children_;\n};\n\njasmine.Suite.prototype.execute = function(onComplete) {\n  var self = this;\n  this.queue.start(function () {\n    self.finish(onComplete);\n  });\n};\njasmine.WaitsBlock = function(env, timeout, spec) {\n  this.timeout = timeout;\n  jasmine.Block.call(this, env, null, spec);\n};\n\njasmine.util.inherit(jasmine.WaitsBlock, jasmine.Block);\n\njasmine.WaitsBlock.prototype.execute = function (onComplete) {\n  if (jasmine.VERBOSE) {\n    this.env.reporter.log('>> Jasmine waiting for ' + this.timeout + ' ms...');\n  }\n  this.env.setTimeout(function () {\n    onComplete();\n  }, this.timeout);\n};\n/**\n * A block which waits for some condition to become true, with timeout.\n *\n * @constructor\n * @extends jasmine.Block\n * @param {jasmine.Env} env The Jasmine environment.\n * @param {Number} timeout The maximum time in milliseconds to wait for the condition to become true.\n * @param {Function} latchFunction A function which returns true when the desired condition has been met.\n * @param {String} message The message to display if the desired condition hasn't been met within the given time period.\n * @param {jasmine.Spec} spec The Jasmine spec.\n */\njasmine.WaitsForBlock = function(env, timeout, latchFunction, message, spec) {\n  this.timeout = timeout || env.defaultTimeoutInterval;\n  this.latchFunction = latchFunction;\n  this.message = message;\n  this.totalTimeSpentWaitingForLatch = 0;\n  jasmine.Block.call(this, env, null, spec);\n};\njasmine.util.inherit(jasmine.WaitsForBlock, jasmine.Block);\n\njasmine.WaitsForBlock.TIMEOUT_INCREMENT = 10;\n\njasmine.WaitsForBlock.prototype.execute = function(onComplete) {\n  if (jasmine.VERBOSE) {\n    this.env.reporter.log('>> Jasmine waiting for ' + (this.message || 'something to happen'));\n  }\n  var latchFunctionResult;\n  try {\n    latchFunctionResult = this.latchFunction.apply(this.spec);\n  } catch (e) {\n    this.spec.fail(e);\n    onComplete();\n    return;\n  }\n\n  if (latchFunctionResult) {\n    onComplete();\n  } else if (this.totalTimeSpentWaitingForLatch >= this.timeout) {\n    var message = 'timed out after ' + this.timeout + ' msec waiting for ' + (this.message || 'something to happen');\n    this.spec.fail({\n      name: 'timeout',\n      message: message\n    });\n\n    this.abort = true;\n    onComplete();\n  } else {\n    this.totalTimeSpentWaitingForLatch += jasmine.WaitsForBlock.TIMEOUT_INCREMENT;\n    var self = this;\n    this.env.setTimeout(function() {\n      self.execute(onComplete);\n    }, jasmine.WaitsForBlock.TIMEOUT_INCREMENT);\n  }\n};\n\njasmine.version_= {\n  \"major\": 1,\n  \"minor\": 3,\n  \"build\": 1,\n  \"revision\": 1354556913\n};\n\n"]}